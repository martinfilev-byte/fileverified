FILEVERIFIED PROJECT SNAPSHOT - Sat Jan 17 21:53:49 EET 2026
========================================

--- START OF FILE: compose.local.yml ---
services:
  db-local:
    image: postgres:16-alpine
    container_name: fileverified-db-local
    restart: always
    environment:
      POSTGRES_USER: fileverified_dev
      POSTGRES_PASSWORD: local_password_123
      POSTGRES_DB: fileverified_dev
    ports:
      - "5433:5432"
    volumes:
      - postgres_local_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U fileverified_dev -d fileverified_dev"]
      interval: 5s
      timeout: 5s
      retries: 5

  web-local:
    build: 
      context: .
      dockerfile: Dockerfile.dev
    container_name: fileverified-web-local
    restart: always
    ports:
      - "3001:3000"
    environment:
      DATABASE_URL: "postgresql://fileverified_dev:local_password_123@db-local:5432/fileverified_dev?schema=public"
      RESEND_API_KEY: "re_8YkvujP5_7Az6LJzp19eLPvcP3Jx7cdjL"
      ADMIN_PASSWORD: "Brumb@r1303"
      NODE_ENV: "development"
    depends_on:
      db-local:
        condition: service_healthy
    volumes:
      - .:/app
      - /app/node_modules
      - ./public/uploads:/app/public/uploads

volumes:
  postgres_local_data:
--- END OF FILE: compose.local.yml ---

--- START OF FILE: Dockerfile ---
FROM node:22-slim AS builder
WORKDIR /app

RUN apt-get update -y && apt-get install -y openssl ca-certificates

COPY package.json ./
RUN npm install

COPY prisma ./prisma/
COPY . .

ENV NEXT_TELEMETRY_DISABLED=1
RUN npm run build

FROM node:22-slim AS runner
WORKDIR /app
ENV NODE_ENV=production
ENV NEXT_TELEMETRY_DISABLED=1

RUN apt-get update -y && apt-get install -y openssl ca-certificates

COPY --from=builder /app/public ./public
COPY --from=builder /app/.next/standalone ./
COPY --from=builder /app/.next/static ./.next/static
COPY --from=builder /app/prisma ./prisma

# –°–™–ó–î–ê–í–ê–ù–ï –ù–ê –ü–ê–ü–ö–ê–¢–ê –ò –ü–†–ê–í–ê –ó–ê –ó–ê–ü–ò–° –ù–ê –°–™–†–í–™–†–ê
RUN mkdir -p public/uploads && chmod -R 777 public/uploads

EXPOSE 3000
ENV PORT=3000
ENV HOSTNAME="0.0.0.0"

CMD ["node", "server.js"]
--- END OF FILE: Dockerfile ---

--- START OF FILE: prisma/schema.prisma ---
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Report {
  id             String   @id @default(cuid())
  slug           String   @unique
  carModel       String
  clientName     String
  inspectionDate DateTime @default(now())
  jsonData       String   @db.Text
  isPublished    Boolean  @default(false)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@index([slug])
}

model Booking {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  status    String   @default("new")
  pkgName   String
  date      String
  time      String
  fullName  String
  phone     String
  email     String?
  makeModel String
  year      String?
  vin       String?
  notes     String?
}
--- END OF FILE: prisma/schema.prisma ---

--- START OF FILE: snapshot.sh ---
#!/bin/bash
# snapshot.sh - –ì–µ–Ω–µ—Ä–∏—Ä–∞ –ø—ä–ª–µ–Ω —Ç–µ–∫—Å—Ç–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞ AI (Gemini)

OUTPUT="project_snapshot.txt"

echo "FILEVERIFIED PROJECT SNAPSHOT - $(date)" > $OUTPUT
echo "========================================" >> $OUTPUT

# –î–µ—Ñ–∏–Ω–∏—Ä–∞–º–µ –ø–∞–ø–∫–∏—Ç–µ –∏ —Ñ–∞–π–ª–æ–≤–∏—Ç–µ —Ä–∞–∑—à–∏—Ä–µ–Ω–∏—è, –∫–æ–∏—Ç–æ –Ω–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞—Ç
# –ò–∑–∫–ª—é—á–≤–∞–º–µ node_modules, .next, .git –∏ –¥—Ä—É–≥–∏ —Å–∏—Å—Ç–µ–º–Ω–∏ –ø–∞–ø–∫–∏
find src prisma -type f \( -name "*.tsx" -o -name "*.ts" -o -name "*.prisma" -o -name "*.css" \) \
    ! -path "*/node_modules/*" \
    ! -path "*/.next/*" \
    ! -path "*/.git/*" | while read -r f; do
    echo "" >> $OUTPUT
    echo "--- START OF FILE: $f ---" >> $OUTPUT
    cat "$f" >> $OUTPUT
    echo "" >> $OUTPUT
    echo "--- END OF FILE: $f ---" >> $OUTPUT
done

# –î–æ–±–∞–≤—è–º–µ –∏ –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ —Ñ–∞–π–ª–æ–≤–µ –æ—Ç –∫–æ—Ä–µ–Ω–∞
CONFIG_FILES=("next.config.ts" "compose.yml" "Dockerfile" "package.json" "tailwind.config.ts" "prisma/schema.prisma")

for cfg in "${CONFIG_FILES[@]}"; do
    if [ -f "$cfg" ]; then
        echo "" >> $OUTPUT
        echo "--- START OF CONFIG: $cfg ---" >> $OUTPUT
        cat "$cfg" >> $OUTPUT
        echo "" >> $OUTPUT
        echo "--- END OF CONFIG: $cfg ---" >> $OUTPUT
    fi
done

echo "‚úÖ Snapshot –µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω —É—Å–ø–µ—à–Ω–æ –≤ $OUTPUT"
--- END OF FILE: snapshot.sh ---

--- START OF FILE: push.sh ---
#!/bin/bash
# push.sh - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–æ –∫–∞—á–≤–∞–Ω–µ —Å—ä—Å Snapshot

# 1. –ì–µ–Ω–µ—Ä–∏—Ä–∞–º–µ –Ω–æ–≤–∏—è —Å–Ω–∞–ø—à–æ—Ç
echo "üöÄ –°—Ç–∞—Ä—Ç–∏—Ä–∞–º –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ snapshot..."
chmod +x snapshot.sh
./snapshot.sh

# 2. –î–æ–±–∞–≤—è–º–µ –≤—Å–∏—á–∫–∏ –ø—Ä–æ–º–µ–Ω–∏ –∫—ä–º Git
echo "üì¶ –ò–Ω–¥–µ–∫—Å–∏—Ä–∞–º –ø—Ä–æ–º–µ–Ω–∏—Ç–µ..."
git add .

# 3. Commit-–≤–∞–º–µ (–∞–∫–æ –Ω–µ –ø–æ–¥–∞–¥–µ—à —Å—ä–æ–±—â–µ–Ω–∏–µ, –∏–∑–ø–æ–ª–∑–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å –¥–∞—Ç–∞)
MSG=${1:-"Update: $(date +'%Y-%m-%d %H:%M:%S') with project snapshot"}
git commit -m "$MSG"

# 4. Push –∫—ä–º GitHub
echo "‚¨ÜÔ∏è –ò–∑–ø—Ä–∞—â–∞–º –∫—ä–º GitHub..."
git push origin main

echo "‚ú® –í—Å–∏—á–∫–æ –µ –∫–∞—á–µ–Ω–æ! –ú–æ–∂–µ—à –¥–∞ –º–∏ –¥–∞–¥–µ—à –ª–∏–Ω–∫–∞ –∫—ä–º project_snapshot.txt"
--- END OF FILE: push.sh ---

--- START OF FILE: next-env.d.ts ---
/// <reference types="next" />
/// <reference types="next/image-types/global" />
import "./.next/dev/types/routes.d.ts";

// NOTE: This file should not be edited
// see https://nextjs.org/docs/app/api-reference/config/typescript for more information.

--- END OF FILE: next-env.d.ts ---

--- START OF FILE: project_snapshot.sh ---
#!/bin/bash

# –ò–º–µ –Ω–∞ –∏–∑—Ö–æ–¥–Ω–∏—è —Ñ–∞–π–ª
OUTPUT="project_snapshot.txt"

# –ù–∞—á–∞–ª–æ –Ω–∞ —Ñ–∞–π–ª–∞ —Å –¥–∞—Ç–∞ –∏ —á–∞—Å
echo "FILEVERIFIED PROJECT SNAPSHOT - $(date)" > $OUTPUT
echo "========================================" >> $OUTPUT

# –°–ø–∏—Å—ä–∫ —Å —Ñ–∞–π–ª–æ–≤–µ—Ç–µ, –∫–æ–∏—Ç–æ –∏—Å–∫–∞–º–µ –¥–∞ –≤–∫–ª—é—á–∏–º
# –ò–∑–∫–ª—é—á–≤–∞–º–µ node_modules, .next, .git –∏ —Å–Ω–∏–º–∫–∏—Ç–µ –≤ uploads
find . -type f \
  -not -path '*/.*' \
  -not -path './node_modules/*' \
  -not -path './.next/*' \
  -not -path './public/uploads/*' \
  -not -path './package-lock.json' \
  \( -name "*.ts" -o -name "*.tsx" -o -name "*.prisma" -o -name "Dockerfile*" -o -name "*.yml" -o -name "*.sh" -o -name "*.css" -o -name "package.json" -o -name "next.config.*" \) \
  | while read -r file; do
    echo "" >> $OUTPUT
    echo "--- START OF FILE: ${file#./} ---" >> $OUTPUT
    cat "$file" >> $OUTPUT
    echo "" >> $OUTPUT
    echo "--- END OF FILE: ${file#./} ---" >> $OUTPUT
  done

echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –§–∞–π–ª—ä—Ç $OUTPUT –µ –≥–µ–Ω–µ—Ä–∏—Ä–∞–Ω —É—Å–ø–µ—à–Ω–æ."
--- END OF FILE: project_snapshot.sh ---

--- START OF FILE: Dockerfile.dev ---
FROM node:22-slim
WORKDIR /app

# –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–º–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞ Prisma –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏
RUN apt-get update -y && apt-get install -y openssl ca-certificates

COPY package.json ./
RUN npm install

# –ö–æ–ø–∏—Ä–∞–º–µ Prisma –∏ –≥–µ–Ω–µ—Ä–∏—Ä–∞–º–µ –∫–ª–∏–µ–Ω—Ç–∞
COPY prisma ./prisma/
RUN npx prisma generate

# –°—ä–∑–¥–∞–≤–∞–º–µ –ø–∞–ø–∫–∞—Ç–∞ –∑–∞ –∫–∞—á–≤–∞–Ω–µ –∏ –¥–∞–≤–∞–º–µ –ø—ä–ª–Ω–∏ –ø—Ä–∞–≤–∞ (–∑–∞ –ª–æ–∫–∞–ª–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ)
RUN mkdir -p public/uploads && chmod -R 777 public/uploads

EXPOSE 3000

# –°—Ç–∞—Ä—Ç–∏—Ä–∞–º–µ –≤ dev —Ä–µ–∂–∏–º
CMD ["npm", "run", "dev"]
--- END OF FILE: Dockerfile.dev ---

--- START OF FILE: package.json ---
{
  "name": "fileverified",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "dev": "next dev",
    "build": "npx prisma generate && next build",
    "start": "next start",
    "lint": "next lint"
  },
  "dependencies": {
    "@prisma/client": "6.2.1",
    "prisma": "6.2.1",
    "lucide-react": "^0.562.0",
    "next": "16.1.0",
    "pg": "^8.13.1",
    "react": "19.0.0",
    "react-dom": "19.0.0",
    "resend": "^6.6.0",
    "yet-another-react-lightbox": "^3.28.0",
    "bcryptjs": "^2.4.3"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.0.0",
    "@types/node": "^22.0.0",
    "@types/react": "^19.0.0",
    "@types/react-dom": "^19.0.0",
    "@types/pg": "^8.11.10",
    "@types/bcryptjs": "^2.4.6",
    "eslint": "^9.0.0",
    "eslint-config-next": "16.1.0",
    "postcss": "^8.4.31",
    "tailwindcss": "^4.0.0",
    "typescript": "^5.0.0"
  }
}
--- END OF FILE: package.json ---

--- START OF FILE: push1.sh ---
#!/bin/bash

# 1. –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ .gitignore –∞–∫–æ —Å–ª—É—á–∞–π–Ω–æ –ª–∏–ø—Å–≤–∞ –∑–∞ uploads
if ! grep -q "public/uploads/*" .gitignore; then
  echo "‚ö†Ô∏è –î–æ–±–∞–≤—è–º public/uploads –≤ .gitignore..."
  echo "" >> .gitignore
  echo "# –£–Ω–∏–∫–∞–ª–Ω–∏ —Å–Ω–∏–º–∫–∏ –æ—Ç –æ–≥–ª–µ–¥–∏" >> .gitignore
  echo "public/uploads/*" >> .gitignore
  echo "!public/uploads/.gitkeep" >> .gitignore
fi

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –ø—Ä–æ–º–µ–Ω–∏
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ..."
git status

# 3. –ü–∏—Ç–∞–Ω–µ –∑–∞ –∫–æ–º–µ–Ω—Ç–∞—Ä
echo "üìù –í—ä–≤–µ–¥–∏ –∫—Ä–∞—Ç–∫–æ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ (commit message):"
read msg

if [ -z "$msg" ]; then
  msg="Update: $(date +'%Y-%m-%d %H:%M')"
fi

# 4. –ò–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ Git –∫–æ–º–∞–Ω–¥–∏
git add .
git commit -m "$msg"
git push origin main

echo "‚úÖ –ö–æ–¥—ä—Ç –µ –≤ GitHub!"
--- END OF FILE: push1.sh ---

--- START OF FILE: next.config.ts ---
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  output: 'standalone', 
  images: {
    unoptimized: true, 
    remotePatterns: [
      {
        protocol: "http",
        hostname: "localhost",
      },
    ],
  },
  experimental: {
    serverActions: {
      bodySizeLimit: "20mb", 
    },
  },
};

export default nextConfig;
--- END OF FILE: next.config.ts ---

--- START OF FILE: src/app/robots.ts ---
import { MetadataRoute } from 'next'

export default function robots(): MetadataRoute.Robots {
  return {
    rules: {
      userAgent: '*',
      allow: '/',
      disallow: '/private/', 
    },
    sitemap: 'https://fileverified.eu/sitemap.xml',
  }
}
--- END OF FILE: src/app/robots.ts ---

--- START OF FILE: src/app/privacy/page.tsx ---
import type { Metadata } from "next"
import { Lock, ShieldCheck } from "lucide-react"
import ContactForm from "@/components/ContactForm"

export const metadata: Metadata = {
  title: "–ü–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç | FileVerified",
  description: "–ü–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ –ø–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç –∏ –∑–∞—â–∏—Ç–∞ –Ω–∞ –ª–∏—á–Ω–∏—Ç–µ –¥–∞–Ω–Ω–∏ –Ω–∞ FileVerified.",
}

export default function PrivacyPage() {
  return (
    <div className="min-h-screen bg-white">
      <div className="mx-auto max-w-4xl px-6 py-16">
        <div className="flex items-center gap-3 mb-8 text-emerald-600 border-b pb-6">
          <Lock className="w-8 h-8" />
          <h1 className="text-3xl font-bold text-slate-900">–ü–æ–ª–∏—Ç–∏–∫–∞ –∑–∞ –ø–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç</h1>
        </div>

        <div className="space-y-12 text-slate-600 leading-relaxed">
          <div className="space-y-8">
            <section>
              <h2 className="text-xl font-bold text-slate-900 mb-4">1. –õ–∏—á–Ω–∏ –¥–∞–Ω–Ω–∏</h2>
              <p>–°—ä–±–∏—Ä–∞–º–µ –í–∞—à–∏—Ç–µ –∏–º–µ–Ω–∞, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –∏–º–µ–π–ª –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–æ —Å —Ü–µ–ª –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ —É—Å–ª—É–≥–∞—Ç–∞ –ø–æ –æ–≥–ª–µ–¥ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª.</p>
            </section>

            <section>
              <h2 className="text-xl font-bold text-slate-900 mb-4">2. –ë–∏—Å–∫–≤–∏—Ç–∫–∏</h2>
              <p>–ò–∑–ø–æ–ª–∑–≤–∞–º–µ Google Analytics, –∑–∞ –¥–∞ –ø–æ–¥–æ–±—Ä—è–≤–∞–º–µ —Ä–∞–±–æ—Ç–∞—Ç–∞ –Ω–∞ —Å–∞–π—Ç–∞. –î–∞–Ω–Ω–∏—Ç–µ —Å–∞ –∞–Ω–æ–Ω–∏–º–Ω–∏.</p>
            </section>

            <section className="bg-emerald-50 p-6 rounded-xl border border-emerald-100 flex items-start gap-4 text-emerald-800">
              <ShieldCheck className="w-6 h-6 shrink-0 mt-1" />
              <p className="text-sm font-medium">–ù–∏–∫–æ–≥–∞ –Ω–µ —Å–ø–æ–¥–µ–ª—è–º–µ –¥–∞–Ω–Ω–∏—Ç–µ –í–∏ —Å —Ç—Ä–µ—Ç–∏ –ª–∏—Ü–∞ (–∞–≤—Ç–æ–∫—ä—â–∏, –ø—Ä–æ–¥–∞–≤–∞—á–∏) –±–µ–∑ –í–∞—à–µ—Ç–æ –∏–∑—Ä–∏—á–Ω–æ —Å—ä–≥–ª–∞—Å–∏–µ.</p>
            </section>
          </div>

          {/* –ö–û–ù–¢–ê–ö–¢–ù–ê –§–û–†–ú–ê */}
          <div className="mt-20 pt-12 border-t">
            <div className="mb-8">
              <h2 className="text-2xl font-bold text-slate-900">–í–∞—à–∏—Ç–µ –ø—Ä–∞–≤–∞</h2>
              <p className="text-slate-500">–ü–æ –≤—Å—è–∫–æ –≤—Ä–µ–º–µ –º–æ–∂–µ—Ç–µ –¥–∞ –ø–æ–∏—Å–∫–∞—Ç–µ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –í–∞—à–∏—Ç–µ –¥–∞–Ω–Ω–∏ –æ—Ç –Ω–∞—à–∞—Ç–∞ –±–∞–∑–∞ —á—Ä–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ-–¥–æ–ª—É.</p>
            </div>
            <ContactForm />
          </div>

          <div className="pt-8 text-sm text-slate-400">
            –ü–æ—Å–ª–µ–¥–Ω–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è: {new Date().toLocaleDateString('bg-BG')}
          </div>
        </div>
      </div>
    </div>
  )
}
--- END OF FILE: src/app/privacy/page.tsx ---

--- START OF FILE: src/app/faq/page.tsx ---
import Link from "next/link"
import { 
  CheckCircle2, 
  AlertCircle, 
  CalendarCheck, 
  CarFront, 
  ClipboardCheck, 
  Sparkles,
  ThermometerSnowflake 
} from "lucide-react"

export const metadata = {
  title: "–ß–µ—Å—Ç–æ –∑–∞–¥–∞–≤–∞–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏ | FileVerified",
  description:
    "–û—Ç–≥–æ–≤–æ—Ä–∏ –Ω–∞ –Ω–∞–π-—á–µ—Å—Ç–æ –∑–∞–¥–∞–≤–∞–Ω–∏—Ç–µ –≤—ä–ø—Ä–æ—Å–∏ –∑–∞ –æ–≥–ª–µ–¥ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª –ø—Ä–µ–¥–∏ –ø–æ–∫—É–ø–∫–∞ –≤ –°–æ—Ñ–∏—è.",
}

const PREP_STEPS = [
  {
    title: "–ü–æ—Ç–≤—ä—Ä–¥–µ—Ç–µ –Ω–∞–ª–∏—á–Ω–æ—Å—Ç—Ç–∞",
    text: "–£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—ä—Ç –≤—Å–µ –æ—â–µ —Å–µ –ø—Ä–æ–¥–∞–≤–∞ –∏ –Ω–µ –µ –∫–∞–ø–∞—Ä–∏—Ä–∞–Ω.",
    icon: <CalendarCheck className="w-5 h-5 text-emerald-600" />
  },
  {
    title: "–í–∑–µ–º–µ—Ç–µ —Å—ä–≥–ª–∞—Å–∏–µ –∑–∞ –∏–Ω—Å–ø–µ–∫—Ü–∏—è",
    text: "–ü—Ä–æ–¥–∞–≤–∞—á—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –µ —Å—ä–≥–ª–∞—Å–µ–Ω –∑–∞ –∫–æ–º–ø—é—Ç—ä—Ä–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –º–µ—Ä–µ–Ω–µ –Ω–∞ –±–æ—è—Ç–∞.",
    icon: <ClipboardCheck className="w-5 h-5 text-emerald-600" />
  },
  {
    title: "–ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∑–∞ —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤",
    text: "–ü–æ–ø–∏—Ç–∞–π—Ç–µ –¥–∞–ª–∏ –∫–æ–ª–∞—Ç–∞ –∏–º–∞ –Ω–æ–º–µ—Ä–∞ –∏ –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞, –∑–∞ –¥–∞ –±—ä–¥–µ —Ç–µ—Å—Ç–≤–∞–Ω–∞ –≤ –¥–≤–∏–∂–µ–Ω–∏–µ.",
    icon: <CarFront className="w-5 h-5 text-emerald-600" />
  },
  {
    title: "–ü–æ–º–æ–ª–µ—Ç–µ –∑–∞ —á–∏—Å—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª",
    text: "–ù–∞ –º—Ä—ä—Å–Ω–∞ –∫–æ–ª–∞ –Ω–µ –º–æ–≥–∞—Ç –¥–∞ —Å–µ –≤–∏–¥—è—Ç –¥–µ—Ñ–µ–∫—Ç–∏ –ø–æ –ª–∞–∫–∞ –∏ —Ñ–∏–Ω–∏ –¥—Ä–∞—Å–∫–æ—Ç–∏–Ω–∏.",
    icon: <Sparkles className="w-5 h-5 text-emerald-600" />
  },
  {
    title: "–ò–∑–∏—Å–∫–≤–∞–π—Ç–µ —Å—Ç—É–¥–µ–Ω —Å—Ç–∞—Ä—Ç",
    text: "–ü–æ–º–æ–ª–µ—Ç–µ –ø—Ä–æ–¥–∞–≤–∞—á–∞ –¥–∞ –Ω–µ –ø–∞–ª–∏ –∫–æ–ª–∞—Ç–∞ –ø—Ä–µ–¥–∏ –æ–≥–ª–µ–¥–∞, –∑–∞ –¥–∞ —á—É–µ–º —Ä–µ–∞–ª–Ω–∏—è —Å—Ç—É–¥–µ–Ω —Å—Ç–∞—Ä—Ç.",
    icon: <ThermometerSnowflake className="w-5 h-5 text-emerald-600" />
  }
]

const FAQS: Array<{ q: string; a: string }> = [
  {
    q: "–ó–∞—â–æ –¥–∞ –ø–æ—Ä—ä—á–∞–º –æ–≥–ª–µ–¥ –ø—Ä–µ–¥–∏ –ø–æ–∫—É–ø–∫–∞?",
    a: "–ó–∞ –¥–∞ –≤–∑–µ–º–µ—à —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –±–∞–∑–∞ —Ñ–∞–∫—Ç–∏: —Ä–µ–∞–ª–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, —Å–ª–µ–¥–∏ –æ—Ç –ü–¢–ü/—Ä–µ–º–æ–Ω—Ç–∏, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–Ω–∏ —Å–∫—Ä–∏—Ç–∏ —Ä–∞–∑—Ö–æ–¥–∏ –∏ —Ä–∏—Å–∫–æ–≤–µ.",
  },
  {
    q: "–ö–∞–∫–≤–æ –≤–∫–ª—é—á–≤–∞ –æ–≥–ª–µ–¥—ä—Ç?",
    a: "–ö–æ–º–±–∏–Ω–∞—Ü–∏—è –æ—Ç –≤–∏–∑—É–∞–ª–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ (–∫—É–∑–æ–≤, –±–æ—è, —Å–∞–ª–æ–Ω), –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (OBD), –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–ª—é—á–æ–≤–∏ —Å–∏—Å—Ç–µ–º–∏ –∏ –æ–±–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–µ–ø–æ—Ä—ä–∫–∞.",
  },
  {
    q: "–ü—Ä–∞–≤–∏—Ç–µ –ª–∏ –æ–≥–ª–µ–¥ –Ω–∞ –º—è—Å—Ç–æ –≤ –°–æ—Ñ–∏—è?",
    a: "–î–∞ ‚Äì –æ–≥–ª–µ–¥—ä—Ç –µ –º–æ–±–∏–ª–µ–Ω –∏ —Å–µ –ø—Ä–∞–≤–∏ –Ω–∞ –º—è—Å—Ç–æ—Ç–æ, –∫—ä–¥–µ—Ç–æ –µ –∞–≤—Ç–æ–º–æ–±–∏–ª—ä—Ç.",
  },
  {
    q: "–ö–æ–≥–∞ –ø–æ–ª—É—á–∞–≤–∞–º —Ä–µ–∑—É–ª—Ç–∞—Ç/–¥–æ–∫–ª–∞–¥?",
    a: "–°–ª–µ–¥ –æ–≥–ª–µ–¥–∞ –ø–æ–ª—É—á–∞–≤–∞—à –æ–±–æ–±—â–µ–Ω–∏–µ. –ü–æ–¥—Ä–æ–±–Ω–∏—è—Ç –¥–æ–∫–ª–∞–¥ —Å–µ –∏–∑–ø—Ä–∞—â–∞ –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–æ.",
  },
]

export default function FAQPage() {
  return (
    <section className="max-w-4xl mx-auto py-12 px-6 space-y-16">
      <div className="space-y-4 text-center md:text-left">
        <h1 className="text-4xl md:text-5xl font-black text-slate-900 tracking-tight">
          –ß–µ—Å—Ç–æ –∑–∞–¥–∞–≤–∞–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏
        </h1>
        <p className="text-slate-600 text-xl leading-relaxed">
          –í—Å–∏—á–∫–æ, –∫–æ–µ—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –∑–Ω–∞–µ—Ç–µ –∑–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∏—è –æ–≥–ª–µ–¥ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª.
        </p>
      </div>

      <div className="bg-emerald-50 rounded-[2.5rem] p-8 md:p-12 border border-emerald-100 shadow-sm">
        <div className="flex items-center gap-3 mb-8">
          <AlertCircle className="w-8 h-8 text-emerald-600" />
          <h2 className="text-2xl font-bold text-emerald-900">
            5 —Å—Ç—ä–ø–∫–∏ –ü–†–ï–î–ò –¥–∞ –ø–æ—Ä—ä—á–∞—Ç–µ –æ–≥–ª–µ–¥
          </h2>
        </div>
        <div className="grid gap-6 md:grid-cols-2 lg:grid-cols-1">
          {PREP_STEPS.map((step, idx) => (
            <div key={idx} className="flex gap-4 bg-white/60 p-5 rounded-2xl border border-white">
              <div className="bg-white p-2.5 rounded-xl shadow-sm h-fit">
                {step.icon}
              </div>
              <div>
                <h3 className="font-bold text-slate-900 mb-1">{step.title}</h3>
                <p className="text-sm text-slate-600 leading-snug">{step.text}</p>
              </div>
            </div>
          ))}
        </div>
      </div>

      <div className="space-y-4">
        <h2 className="text-2xl font-bold text-slate-900 px-2">–í—Å–∏—á–∫–∏ –≤—ä–ø—Ä–æ—Å–∏</h2>
        <div className="rounded-3xl border bg-white p-2 shadow-xl shadow-slate-200/50 overflow-hidden">
          {FAQS.map((item, idx) => (
            <details
              key={idx}
              className="group rounded-2xl p-4 hover:bg-slate-50 open:bg-emerald-50/30 transition-all duration-300"
            >
              <summary className="cursor-pointer list-none">
                <div className="flex items-start justify-between gap-4">
                  <div className="font-bold text-slate-900 text-lg leading-tight group-open:text-emerald-900">
                    {item.q}
                  </div>
                  <div className="mt-0.5 text-emerald-600 font-black select-none text-2xl">
                    <span className="group-open:hidden">+</span>
                    <span className="hidden group-open:inline">‚Äì</span>
                  </div>
                </div>
              </summary>
              <div className="mt-4 text-slate-700 leading-relaxed text-md pl-1 border-t border-emerald-100/50 pt-4">
                {item.a}
              </div>
            </details>
          ))}
        </div>
      </div>

      <div className="rounded-[2.5rem] border-2 border-slate-100 bg-white p-10 md:p-14 text-center md:text-left relative overflow-hidden shadow-2xl shadow-slate-200/50">
        <div className="relative z-10">
            <h2 className="text-3xl font-black text-slate-900 mb-4 uppercase">
            –ù–µ –Ω–∞–º–∏—Ä–∞—Ç–µ –æ—Ç–≥–æ–≤–æ—Ä–∞?
            </h2>
            <p className="text-slate-600 text-lg mb-8 max-w-xl font-medium">
            –ü–∏—à–µ—Ç–µ –Ω–∏ –≤ –∑–∞—è–≤–∫–∞—Ç–∞ –∏–ª–∏ –Ω–∏ —Å–µ –æ–±–∞–¥–µ—Ç–µ –¥–∏—Ä–µ–∫—Ç–Ω–æ.
            </p>
            <div className="flex flex-col md:flex-row gap-4">
            <Link
                href="/book"
                className="inline-flex items-center justify-center rounded-2xl bg-emerald-600 px-8 py-4 font-black text-white hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-500/20 text-lg uppercase tracking-tighter"
            >
                –ó–ê–ü–ê–ó–ï–¢–ï –û–ì–õ–ï–î
            </Link>
            <a
                href="tel:0888570037"
                className="inline-flex items-center justify-center rounded-2xl bg-slate-50 px-8 py-4 font-bold text-slate-900 hover:bg-slate-100 transition-all border border-slate-200"
            >
                0888 57 00 37
            </a>
            </div>
        </div>
        <div className="absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 rounded-full -mr-32 -mt-32 blur-3xl"></div>
      </div>
    </section>
  )
}
--- END OF FILE: src/app/faq/page.tsx ---

--- START OF FILE: src/app/terms/page.tsx ---
import type { Metadata } from "next"
import { Scale } from "lucide-react"
import ContactForm from "@/components/ContactForm"

export const metadata: Metadata = {
  title: "–û–±—â–∏ —É—Å–ª–æ–≤–∏—è | FileVerified",
  description: "–û–±—â–∏ —É—Å–ª–æ–≤–∏—è –∑–∞ –ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∏—Ç–µ –Ω–∞ FileVerified - –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏.",
}

export default function TermsPage() {
  return (
    <div className="min-h-screen bg-white">
      <div className="mx-auto max-w-4xl px-6 py-16">
        <div className="flex items-center gap-3 mb-8 text-emerald-600 border-b pb-6">
          <Scale className="w-8 h-8" />
          <h1 className="text-3xl font-bold text-slate-900">–û–±—â–∏ —É—Å–ª–æ–≤–∏—è</h1>
        </div>

        <div className="space-y-12 text-slate-600 leading-relaxed">
          <div className="space-y-8">
            <section>
              <h2 className="text-xl font-bold text-slate-900 mb-4">1. –ü—Ä–µ–¥–º–µ—Ç</h2>
              <p>
                –ù–∞—Å—Ç–æ—è—â–∏—Ç–µ –û–±—â–∏ —É—Å–ª–æ–≤–∏—è —É—Ä–µ–∂–¥–∞—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ç–∞ –º–µ–∂–¥—É –ú–∞—Ä—Ç–∏–Ω –§–∏–ª–µ–≤, –Ω–∞—Ä–∏—á–∞–Ω –ø–æ-–¥–æ–ª—É ‚Äû–ò–∑–ø—ä–ª–Ω–∏—Ç–µ–ª‚Äú, 
                –∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏—Ç–µ –Ω–∞ —É—Å–ª—É–≥–∏—Ç–µ, –ø—Ä–µ–¥–ª–∞–≥–∞–Ω–∏ —á—Ä–µ–∑ —É–µ–±—Å–∞–π—Ç–∞ <strong>fileverified.eu</strong>.
              </p>
            </section>

            <section>
              <h2 className="text-xl font-bold text-slate-900 mb-4">2. –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —É—Å–ª—É–≥–∏—Ç–µ</h2>
              <p>–ò–∑–ø—ä–ª–Ω–∏—Ç–µ–ª—è—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞ –µ–∫—Å–ø–µ—Ä—Ç–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ —É–ø–æ—Ç—Ä–µ–±—è–≤–∞–Ω–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –≤–∫–ª—é—á–≤–∞—â–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –æ–≥–ª–µ–¥ –∏ —Ç–µ—Å—Ç-–¥—Ä–∞–π–≤.</p>
            </section>

            <section>
              <h2 className="text-xl font-bold text-slate-900 mb-4">3. –†–µ–∑–µ—Ä–≤–∞—Ü–∏–∏</h2>
              <p>
                –ó–∞—è–≤–∫–∞ –∑–∞ –æ–≥–ª–µ–¥ —Å–µ —Å—á–∏—Ç–∞ –∑–∞ –ø–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞ —Å–∞–º–æ —Å–ª–µ–¥ –ª–∏—á–µ–Ω –∫–æ–Ω—Ç–∞–∫—Ç –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ –ø–∏—Å–º–µ–Ω–æ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç –Ω–∞—à–∞ —Å—Ç—Ä–∞–Ω–∞.
              </p>
            </section>
          </div>

          {/* –ö–û–ù–¢–ê–ö–¢–ù–ê –§–û–†–ú–ê */}
          <div className="mt-20 pt-12 border-t">
            <div className="mb-8">
              <h2 className="text-2xl font-bold text-slate-900">–ò–º–∞—Ç–µ –≤—ä–ø—Ä–æ—Å–∏?</h2>
              <p className="text-slate-500">–ê–∫–æ –Ω–µ –Ω–∞–º–∏—Ä–∞—Ç–µ –æ—Ç–≥–æ–≤–æ—Ä –≤ –æ–±—â–∏—Ç–µ –Ω–∏ —É—Å–ª–æ–≤–∏—è, –ø–∏—à–µ—Ç–µ –Ω–∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ.</p>
            </div>
            <ContactForm />
          </div>

          <div className="pt-8 text-sm text-slate-400">
            –ü–æ—Å–ª–µ–¥–Ω–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è: {new Date().toLocaleDateString('bg-BG')}
          </div>
        </div>
      </div>
    </div>
  )
}
--- END OF FILE: src/app/terms/page.tsx ---

--- START OF FILE: src/app/admin/page.tsx ---
"use client"

import { useEffect, useState } from "react"

type BookingStatus = "new" | "confirmed" | "done" | "canceled"

type Booking = {
  id: string
  createdAt: string
  status: BookingStatus
  pkgName: string
  date: string
  time: string
  fullName: string
  phone: string
  makeModel: string
  vin?: string
  notes?: string
}

const STATUS_LABEL: Record<BookingStatus, string> = {
  new: "–ù–æ–≤–∞",
  confirmed: "–ü–æ—Ç–≤—ä—Ä–¥–µ–Ω–∞",
  done: "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∞",
  canceled: "–û—Ç–∫–∞–∑–∞–Ω–∞",
}

export default function AdminPage() {
  const [items, setItems] = useState<Booking[]>([])
  const [err, setErr] = useState("")

  async function load() {
    setErr("")
    const res = await fetch("/api/bookings", { cache: "no-store" })
    if (!res.ok) {
      if (res.status === 401) window.location.href = "/admin/login"
      setErr("–ù–µ—É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ.")
      return
    }
    setItems(await res.json())
  }

  async function setStatus(id: string, status: BookingStatus) {
    await fetch("/api/bookings", {
      method: "PATCH",
      headers: { "content-type": "application/json" },
      body: JSON.stringify({ id, status }),
    })
    await load()
  }

  useEffect(() => {
    load()
  }, [])

  return (
    <section className="space-y-6">
      <div className="flex items-start justify-between gap-4">
        <div>
          <h1 className="text-3xl font-bold text-slate-900">Admin ¬∑ –ó–∞—è–≤–∫–∏</h1>
          <p className="text-slate-600">–°–ø–∏—Å—ä–∫ —Å –≤—Å–∏—á–∫–∏ –∑–∞—è–≤–∫–∏ –∑–∞ –æ–≥–ª–µ–¥.</p>
        </div>
        <button
          onClick={load}
          className="rounded-xl border bg-white px-4 py-2 font-semibold hover:bg-slate-50"
        >
          Refresh
        </button>
      </div>

      {err && <div className="text-red-600">{err}</div>}

      <div className="space-y-4">
        {items.map((b) => (
          <div key={b.id} className="rounded-2xl border bg-white p-6 shadow-sm">
            <div className="flex flex-col gap-3 md:flex-row md:items-start md:justify-between">
              <div>
                <div className="text-sm text-slate-500">
                  {new Date(b.createdAt).toLocaleString("bg-BG")}
                </div>
                <div className="text-xl font-bold text-slate-900">
                  {b.pkgName} ¬∑ {b.date} ¬∑ {b.time}
                </div>
                <div className="mt-2 text-slate-700">
                  <span className="font-semibold">{b.fullName}</span> ¬∑ {b.phone}
                </div>
                <div className="text-slate-600">{b.makeModel}</div>
                {b.vin ? <div className="text-xs text-slate-500">VIN: {b.vin}</div> : null}
                {b.notes ? <div className="mt-2 text-sm text-slate-700">{b.notes}</div> : null}
              </div>

              <div className="min-w-[240px] space-y-2">
                <div className="text-sm text-slate-500">–°—Ç–∞—Ç—É—Å</div>
                <div className="font-semibold text-slate-900">
                  {STATUS_LABEL[b.status]}
                </div>
                <div className="grid grid-cols-2 gap-2">
                  <button
                    onClick={() => setStatus(b.id, "confirmed")}
                    className="rounded-xl bg-emerald-600 px-3 py-2 text-sm font-semibold text-white hover:bg-emerald-700"
                  >
                    –ü–æ—Ç–≤—ä—Ä–¥–∏
                  </button>
                  <button
                    onClick={() => setStatus(b.id, "done")}
                    className="rounded-xl border bg-white px-3 py-2 text-sm font-semibold hover:bg-slate-50"
                  >
                    –ü—Ä–∏–∫–ª—é—á–∏
                  </button>
                  <button
                    onClick={() => setStatus(b.id, "canceled")}
                    className="rounded-xl border bg-white px-3 py-2 text-sm font-semibold hover:bg-slate-50"
                  >
                    –û—Ç–∫–∞–∂–∏
                  </button>
                  <button
                    onClick={() => setStatus(b.id, "new")}
                    className="rounded-xl border bg-white px-3 py-2 text-sm font-semibold hover:bg-slate-50"
                  >
                    –ù–æ–≤–∞
                  </button>
                </div>
              </div>
            </div>
          </div>
        ))}

        {items.length === 0 && (
          <div className="rounded-2xl border bg-white p-6 text-slate-600">
            –ù—è–º–∞ –∑–∞—è–≤–∫–∏ –æ—â–µ.
          </div>
        )}
      </div>
    </section>
  )
}
--- END OF FILE: src/app/admin/page.tsx ---

--- START OF FILE: src/app/admin/login/page.tsx ---
"use client"

import { useState } from "react"

export default function AdminLogin() {
  const [password, setPassword] = useState("")
  const [err, setErr] = useState("")

  async function submit(e: React.FormEvent) {
    e.preventDefault()
    setErr("")
    const res = await fetch("/api/admin/login", {
      method: "POST",
      headers: { "content-type": "application/json" },
      body: JSON.stringify({ password }),
    })
    if (!res.ok) {
      setErr("–ì—Ä–µ—à–Ω–∞ –ø–∞—Ä–æ–ª–∞.")
      return
    }
    window.location.href = "/admin"
  }

  return (
    <div className="max-w-md rounded-2xl border bg-white p-6 shadow-sm">
      <h1 className="text-2xl font-bold text-slate-900">Admin –≤—Ö–æ–¥</h1>
      <p className="mt-2 text-slate-600">–í—ä–≤–µ–¥–∏ –ø–∞—Ä–æ–ª–∞—Ç–∞ –∑–∞ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞.</p>

      <form onSubmit={submit} className="mt-6 space-y-4">
        <input
          type="password"
          className="w-full rounded-xl border px-4 py-3 outline-none focus:ring-2 focus:ring-emerald-100"
          value={password}
          onChange={(e) => setPassword(e.target.value)}
          placeholder="–ü–∞—Ä–æ–ª–∞"
          required
        />
        {err && <div className="text-sm text-red-600">{err}</div>}
        <button className="w-full rounded-xl bg-emerald-600 px-6 py-3 font-semibold text-white hover:bg-emerald-700">
          –í—Ö–æ–¥
        </button>
      </form>
    </div>
  )
}
--- END OF FILE: src/app/admin/login/page.tsx ---

--- START OF FILE: src/app/admin/reports/page.tsx ---
"use client";

import React, { useState, useEffect } from "react";
import { 
  Loader2, Save, Plus, Edit3, Trash2, ChevronLeft, 
  Eye, ImageIcon, X, Upload, CarFront, Cpu, 
  Activity, Gauge, Zap, ShieldCheck, User,
  Disc, Fuel, Search, Layers, Info
} from "lucide-react";

interface ReportData {
  vin: string;
  year: string;
  mileage: string;
  engine: string;
  hp: string;
  gearbox: string;
  fuel: string;
  drivetrain: string;
  location: string;
  images: string[];
  paintData: Record<string, string>;
  exteriorStatus: string;
  exteriorNotes: string;
  interiorStatus: string;
  interiorNotes: string;
  engineStatus: string;
  engineNotes: string;
  suspensionStatus: string;
  suspensionNotes: string;
  brakesStatus: string;
  brakesNotes: string;
  diagnostics: string;
  ecuErrors: boolean;
  testDrive: string;
  finalVerdict: string;
}

export default function AdminReports() {
  const [reports, setReports] = useState<any[]>([]);
  const [editingReport, setEditingReport] = useState<any>(null);
  const [loading, setLoading] = useState(false);
  const [uploading, setUploading] = useState(false);
  const [error, setError] = useState("");

  const emptyData: ReportData = {
    vin: "", year: "", mileage: "", engine: "", hp: "",
    gearbox: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞", fuel: "–î–∏–∑–µ–ª", drivetrain: "AWD (4x4)",
    location: "–°–æ—Ñ–∏—è",
    images: [],
    paintData: { 
      "–ü—Ä–µ–¥–µ–Ω –∫–∞–ø–∞–∫": "", "–¢–∞–≤–∞–Ω": "", "–ë–∞–≥–∞–∂–Ω–∏–∫": "",
      "–ö–∞–ª–Ω–∏–∫ –ü–õ": "", "–ö–∞–ª–Ω–∏–∫ –ü–î": "", "–ö–∞–ª–Ω–∏–∫ –ó–õ": "", "–ö–∞–ª–Ω–∏–∫ –ó–î": "",
      "–í—Ä–∞—Ç–∞ –ü–õ": "", "–í—Ä–∞—Ç–∞ –ü–î": "", "–í—Ä–∞—Ç–∞ –ó–õ": "", "–í—Ä–∞—Ç–∞ –ó–î": "",
      "–ö–æ–ª–æ–Ω–∞ –ê (–õ)": "", "–ö–æ–ª–æ–Ω–∞ –ê (–î)": "",
      "–ö–æ–ª–æ–Ω–∞ B (–õ)": "", "–ö–æ–ª–æ–Ω–∞ B (–î)": ""
    },
    exteriorStatus: "–û—Ç–ª–∏—á–µ–Ω", exteriorNotes: "",
    interiorStatus: "–û—Ç–ª–∏—á–µ–Ω", interiorNotes: "",
    engineStatus: "–û—Ç–ª–∏—á–µ–Ω", engineNotes: "",
    suspensionStatus: "–û—Ç–ª–∏—á–µ–Ω", suspensionNotes: "",
    brakesStatus: "–û—Ç–ª–∏—á–µ–Ω", brakesNotes: "",
    diagnostics: "", 
    ecuErrors: false,
    testDrive: "",
    finalVerdict: ""
  };

  useEffect(() => { fetchReports(); }, []);

  const fetchReports = async () => {
    try {
      const res = await fetch("/api/reports");
      const data = await res.json();
      setReports(Array.isArray(data) ? data : []);
    } catch (e) { console.error(e); }
  };

  const handleFileUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {
    if (!e.target.files?.length) return;
    if (!editingReport.slug) {
      alert("–ì–†–ï–®–ö–ê: –ü—ä—Ä–≤–æ –Ω–∞–ø–∏—à–µ—Ç–µ –õ–∏–Ω–∫ (slug) –≥–æ—Ä–µ!");
      return;
    }
    
    setUploading(true);
    const formData = new FormData();
    formData.append("slug", editingReport.slug); 
    Array.from(e.target.files).forEach(file => formData.append("files", file));

    try {
      const res = await fetch("/api/upload", { method: "POST", body: formData });
      const data = await res.json();
      if (data.paths) {
        const currentImages = editingReport.data.images || [];
        setEditingReport({
          ...editingReport,
          data: { ...editingReport.data, images: [...currentImages, ...data.paths] }
        });
      }
    } catch (err) { alert("–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∫–∞—á–≤–∞–Ω–µ"); }
    finally { setUploading(false); e.target.value = ''; }
  };

  const handleSave = async () => {
    setError("");
    if (!editingReport.carModel || !editingReport.slug) return setError("–ú–∞—Ä–∫–∞ –∏ –õ–∏–Ω–∫ —Å–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏!");
    setLoading(true);
    const payload = { ...editingReport, jsonData: JSON.stringify(editingReport.data) };
    try {
      const res = await fetch("/api/reports", {
        method: editingReport.id ? "PUT" : "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload),
      });
      if (res.ok) { setEditingReport(null); fetchReports(); }
      else { const d = await res.json(); setError(d.error); }
    } catch (e) { setError("–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å"); }
    finally { setLoading(false); }
  };

  return (
    <div className="min-h-screen bg-[#F8FAFC] p-4 md:p-10 font-sans text-slate-900">
      <div className="max-w-[1400px] mx-auto">
        
        {!editingReport ? (
          <div className="flex flex-col md:flex-row justify-between items-center gap-6 mb-12 mt-10">
            <div>
              <h1 className="text-5xl font-black tracking-tighter uppercase">–ò–Ω—Å–ø–µ–∫—Ü–∏–∏</h1>
              <p className="text-slate-400 font-bold mt-2 uppercase text-[10px] tracking-[0.3em]">FileVerified Admin Terminal</p>
            </div>
            <button onClick={() => setEditingReport({ slug: "", carModel: "", clientName: "", data: { ...emptyData }, isPublished: false })} 
              className="w-full md:w-auto bg-emerald-600 text-white px-12 py-6 rounded-3xl font-black flex items-center justify-center gap-3 shadow-2xl shadow-emerald-200 hover:scale-[1.02] transition-all uppercase">
              <Plus size={28} /> –ù–æ–≤ –†–µ–ø–æ—Ä—Ç
            </button>
          </div>
        ) : (
          <div className="bg-white rounded-[3rem] shadow-2xl border border-slate-100 overflow-hidden mb-20">
             
             <div className="p-8 border-b bg-slate-50 flex justify-between items-center">
                <button onClick={() => setEditingReport(null)} className="font-black text-slate-400 hover:text-emerald-600 flex items-center gap-2 uppercase text-[10px] tracking-widest transition-colors">
                  <ChevronLeft size={20}/> –û—Ç–∫–∞–∑
                </button>
                <div className="flex items-center gap-3">
                  <ShieldCheck className="text-emerald-600" size={24} />
                  <span className="font-black uppercase text-xs tracking-widest text-slate-800">–†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –î–æ–∫–ª–∞–¥</span>
                </div>
            </div>

            <div className="p-8 md:p-16 space-y-16">
              
              <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <InputGroup label="–ú–∞—Ä–∫–∞ –∏ –ú–æ–¥–µ–ª" icon={<CarFront size={18}/>}>
                  <input className="w-full p-5 bg-slate-50 rounded-2xl outline-none font-black text-xl border-2 border-transparent focus:border-emerald-500 transition-all shadow-inner" placeholder="Audi RS6 C8" value={editingReport.carModel} onChange={(e) => setEditingReport({...editingReport, carModel: e.target.value})} />
                </InputGroup>
                <InputGroup label="–õ–∏–Ω–∫ (Slug)" icon={<Activity size={18}/>}>
                  <input className="w-full p-5 bg-emerald-50 border-2 border-emerald-100 text-emerald-700 rounded-2xl outline-none font-bold text-xl" placeholder="audi-rs6-ivan" value={editingReport.slug} onChange={(e) => setEditingReport({...editingReport, slug: e.target.value.toLowerCase().replace(/\s+/g, '-')})} />
                </InputGroup>
                <InputGroup label="–ö–ª–∏–µ–Ω—Ç" icon={<User size={18}/>}>
                  <input className="w-full p-5 bg-slate-50 rounded-2xl outline-none font-bold text-xl border-2 border-transparent focus:border-emerald-500 shadow-inner" placeholder="–ò–º–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç" value={editingReport.clientName} onChange={(e) => setEditingReport({...editingReport, clientName: e.target.value})} />
                </InputGroup>
              </div>

              {/* –û–°–ù–û–í–ù–ò –î–ê–ù–ù–ò - –í–ï–ß–ï –ù–ê –°–í–ï–¢–™–õ –§–û–ù */}
              <div className="bg-white rounded-[3rem] p-10 grid grid-cols-2 lg:grid-cols-4 gap-8 border border-slate-100 shadow-sm">
                  <LightInput label="VIN –ù–æ–º–µ—Ä" value={editingReport.data.vin} onChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, vin: v.toUpperCase()}})} />
                  <LightInput label="–ì–æ–¥–∏–Ω–∞" value={editingReport.data.year} onChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, year: v}})} />
                  <LightInput label="–ü—Ä–æ–±–µ–≥" value={editingReport.data.mileage} onChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, mileage: v}})} />
                  <LightInput label="–î–≤–∏–≥–∞—Ç–µ–ª" value={editingReport.data.engine} onChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, engine: v}})} />
                  <LightInput label="–ú–æ—â–Ω–æ—Å—Ç (hp)" value={editingReport.data.hp} onChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, hp: v}})} />
                  <SelectInput label="–¢—Ä–∞–Ω—Å–º–∏—Å–∏—è" value={editingReport.data.gearbox} options={["–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞", "–†—ä—á–Ω–∞", "DSG", "CVT"]} onChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, gearbox: v}})} />
                  <SelectInput label="–ì–æ—Ä–∏–≤–æ" value={editingReport.data.fuel} options={["–î–∏–∑–µ–ª", "–ë–µ–Ω–∑–∏–Ω", "–•–∏–±—Ä–∏–¥", "–ï–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞"]} onChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, fuel: v}})} />
                  <SelectInput label="–ó–∞–¥–≤–∏–∂–≤–∞–Ω–µ" value={editingReport.data.drivetrain} options={["AWD (4x4)", "RWD (–ó–∞–¥–Ω–æ)", "FWD (–ü—Ä–µ–¥–Ω–æ)"]} onChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, drivetrain: v}})} />
              </div>

              <section className="bg-white p-10 rounded-[3rem] border-2 border-slate-100 shadow-sm relative overflow-hidden">
                <Layers className="absolute -right-10 -top-10 w-40 h-40 text-slate-50 rotate-12" />
                <h3 className="text-sm font-black uppercase tracking-[0.3em] text-emerald-600 mb-10 flex items-center gap-3">
                  <Gauge size={24} /> –ò–∑–º–µ—Ä–≤–∞–Ω–µ –Ω–∞ –õ–ö–ü (Œºm)
                </h3>
                <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 relative z-10">
                  {Object.keys(editingReport.data.paintData).map((key) => (
                    <div key={key} className="space-y-2">
                      <label className="text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1">{key}</label>
                      <input 
                        type="number"
                        className="w-full p-4 bg-slate-50 rounded-2xl font-black text-center text-lg focus:bg-white focus:ring-4 focus:ring-emerald-100 transition-all outline-none border border-transparent focus:border-emerald-400"
                        value={editingReport.data.paintData[key]}
                        onChange={(e: React.ChangeEvent<HTMLInputElement>) => {
                          const newPaint = { ...editingReport.data.paintData, [key]: e.target.value };
                          setEditingReport({ ...editingReport, data: { ...editingReport.data, paintData: newPaint } });
                        }}
                      />
                    </div>
                  ))}
                </div>
              </section>

              <div className="grid grid-cols-1 lg:grid-cols-2 gap-10">
                <StatusCard label="–ï–∫—Å—Ç–µ—Ä–∏–æ—Ä" icon={<CarFront />} status={editingReport.data.exteriorStatus} onStatusChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, exteriorStatus: v}})} notes={editingReport.data.exteriorNotes} onNotesChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, exteriorNotes: v}})} />
                <StatusCard label="–ò–Ω—Ç–µ—Ä–∏–æ—Ä" icon={<Search />} status={editingReport.data.interiorStatus} onStatusChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, interiorStatus: v}})} notes={editingReport.data.interiorNotes} onNotesChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, interiorNotes: v}})} />
                <StatusCard label="–î–≤–∏–≥–∞—Ç–µ–ª" icon={<Zap />} status={editingReport.data.engineStatus} onStatusChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, engineStatus: v}})} notes={editingReport.data.engineNotes} onNotesChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, engineNotes: v}})} />
                <StatusCard label="–û–∫–∞—á–≤–∞–Ω–µ" icon={<Disc />} status={editingReport.data.suspensionStatus} onStatusChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, suspensionStatus: v}})} notes={editingReport.data.suspensionNotes} onNotesChange={(v: string) => setEditingReport({...editingReport, data: {...editingReport.data, suspensionNotes: v}})} />
              </div>

              {/* –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê - –í–ï–ß–ï –ù–ê –°–í–ï–¢–™–õ –§–û–ù */}
              <div className="bg-white border-2 border-slate-100 rounded-[3rem] p-10 space-y-6">
                  <div className="flex justify-between items-center">
                    <h3 className="font-black uppercase text-xs tracking-widest text-emerald-600 flex items-center gap-2"><Cpu /> –ö–æ–º–ø—é—Ç—ä—Ä–Ω–∞ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</h3>
                    <label className="flex items-center gap-3 bg-slate-50 px-4 py-2 rounded-xl cursor-pointer hover:bg-slate-100 transition-all border border-slate-100">
                      <input type="checkbox" checked={editingReport.data.ecuErrors} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setEditingReport({...editingReport, data: {...editingReport.data, ecuErrors: e.target.checked}})} className="w-5 h-5 accent-emerald-500" />
                      <span className="text-[10px] font-black uppercase">–ê–∫—Ç–∏–≤–Ω–∏ –ì—Ä–µ—à–∫–∏</span>
                    </label>
                  </div>
                  <textarea className="w-full bg-slate-50 border border-slate-100 p-6 rounded-[2rem] outline-none min-h-[150px] font-medium text-slate-600" placeholder="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞—Ç–∞..." value={editingReport.data.diagnostics} onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => setEditingReport({...editingReport, data: {...editingReport.data, diagnostics: e.target.value}})} />
              </div>

              <div className="space-y-4">
                  <h3 className="font-black uppercase text-sm tracking-[0.3em] text-emerald-600 ml-6">–ï–ö–°–ü–ï–†–¢–ù–û –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï</h3>
                  <textarea className="w-full bg-emerald-600 text-white p-12 rounded-[4rem] outline-none font-black text-2xl shadow-2xl shadow-emerald-200 placeholder:text-emerald-300 min-h-[200px]" placeholder="–§–∏–Ω–∞–ª–Ω–∞ –ø—Ä–∏—Å—ä–¥–∞..." value={editingReport.data.finalVerdict} onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => setEditingReport({...editingReport, data: {...editingReport.data, finalVerdict: e.target.value}})} />
              </div>

              <section className={`p-10 rounded-[4rem] border-4 transition-all ${!editingReport.slug ? 'bg-slate-50 border-slate-100 opacity-50' : 'bg-white border-dashed border-emerald-100'}`}>
                <div className="flex flex-col lg:flex-row justify-between items-center gap-8 mb-12">
                  <div>
                    <h3 className="text-slate-900 font-black text-2xl uppercase tracking-tighter flex items-center gap-3"><ImageIcon className="text-emerald-600" size={32}/> –§–æ—Ç–æ–¥–æ–∫–ª–∞–¥ ({editingReport.data.images?.length || 0})</h3>
                  </div>
                  <label className={`w-full lg:w-auto px-16 py-8 rounded-[2.5rem] font-black text-xl flex items-center justify-center gap-4 transition-all shadow-2xl ${!editingReport.slug ? 'bg-slate-300 cursor-not-allowed' : 'bg-emerald-600 text-white cursor-pointer hover:bg-slate-800'}`}>
                    {uploading ? <Loader2 className="animate-spin" size={32}/> : <Upload size={32}/>}
                    –ö–ê–ß–ò –°–ù–ò–ú–ö–ò
                    <input type="file" multiple className="hidden" accept="image/*" onChange={handleFileUpload} disabled={uploading || !editingReport.slug} />
                  </label>
                </div>
                <div className="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                  {editingReport.data.images?.map((img: string, i: number) => (
                    <div key={i} className="relative group aspect-square rounded-[2rem] overflow-hidden shadow-lg bg-slate-100 border-4 border-white">
                      <img src={`/api/files?path=${img}`} className="w-full h-full object-cover" alt="car" />
                      <button onClick={() => {
                         const filtered = editingReport.data.images.filter((_: any, idx: number) => idx !== i);
                         setEditingReport({ ...editingReport, data: { ...editingReport.data, images: filtered } });
                      }} className="absolute inset-0 bg-rose-600/90 text-white flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition-all font-black text-xs uppercase tracking-widest">
                        <X size={32} className="mb-2" /> –ò–∑—Ç—Ä–∏–π
                      </button>
                    </div>
                  ))}
                </div>
              </section>

              <div className="flex flex-col lg:flex-row gap-8 pt-10">
                <div className="flex-1 flex items-center gap-6 p-10 bg-white rounded-[3rem] border-4 border-slate-100 shadow-inner">
                  <input type="checkbox" id="pub" checked={editingReport.isPublished} onChange={(e) => setEditingReport({...editingReport, isPublished: e.target.checked})} className="w-12 h-12 accent-emerald-500 cursor-pointer" />
                  <label htmlFor="pub" className="font-black text-slate-800 uppercase tracking-widest text-lg cursor-pointer">–ü—É–±–ª–∏–∫—É–≤–∞–π</label>
                </div>
                <button onClick={handleSave} disabled={loading} className="flex-[2] bg-slate-900 text-white py-10 rounded-[3.5rem] font-black text-3xl flex items-center justify-center gap-6 hover:bg-emerald-600 transition-all shadow-2xl uppercase">
                  {loading ? <Loader2 className="animate-spin" size={40} /> : <Save size={40} />} –ì–µ–Ω–µ—Ä–∏—Ä–∞–π –û—Ç—á–µ—Ç
                </button>
              </div>

              {error && <div className="p-8 bg-red-50 text-red-600 rounded-[2.5rem] border-4 border-red-100 font-black text-center uppercase text-lg">{error}</div>}
            </div>
          </div>
        )}

        {!editingReport && (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-10">
            {reports.map((r: any) => (
              <div key={r.id} className="bg-white p-10 rounded-[3.5rem] border-2 border-slate-100 shadow-xl flex flex-col justify-between group hover:border-emerald-500 transition-all">
                <div className="flex justify-between items-start mb-10">
                  <div>
                    <h3 className="text-3xl font-black tracking-tighter uppercase text-slate-900">{r.carModel}</h3>
                    <p className="text-slate-400 font-black uppercase text-[10px] tracking-widest mt-2">{r.clientName}</p>
                  </div>
                  <span className={`text-[10px] px-4 py-2 rounded-full font-black uppercase tracking-[0.2em] ${r.isPublished ? 'bg-emerald-50 text-emerald-600' : 'bg-amber-50 text-amber-600'}`}>
                    {r.isPublished ? 'LIVE' : 'DRAFT'}
                  </span>
                </div>
                <div className="flex gap-3">
                  <a href={`/report/${r.slug}`} target="_blank" className="flex-1 bg-slate-50 p-6 rounded-2xl flex items-center justify-center hover:bg-emerald-500 hover:text-white transition-all"><Eye size={24} /></a>
                  <button onClick={() => setEditingReport({ ...r, data: JSON.parse(r.jsonData) })} className="flex-1 bg-slate-50 p-6 rounded-2xl flex items-center justify-center hover:bg-emerald-600 hover:text-white transition-all"><Edit3 size={24} /></button>
                  <button onClick={async () => { if (confirm("–ò–∑—Ç—Ä–∏–≤–∞–Ω–µ?")) { await fetch(`/api/reports?id=${r.id}`, { method: "DELETE" }); fetchReports(); } }} className="flex-1 bg-slate-50 p-6 rounded-2xl flex items-center justify-center hover:bg-rose-500 hover:text-white transition-all"><Trash2 size={24} /></button>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  );
}

// --- UI HELPERS ---

interface InputGroupProps {
  label: string;
  icon: React.ReactNode;
  children: React.ReactNode;
}
function InputGroup({ label, icon, children }: InputGroupProps) {
  return (
    <div className="space-y-3">
      <label className="text-[11px] font-black uppercase tracking-[0.3em] text-slate-400 ml-4 flex items-center gap-2">
        {icon} {label}
      </label>
      {children}
    </div>
  );
}

interface LightInputProps {
  label: string;
  value: string;
  onChange: (v: string) => void;
}
function LightInput({ label, value, onChange }: LightInputProps) {
  return (
    <div className="flex flex-col gap-2">
      <label className="text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2">{label}</label>
      <input 
        className="p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none font-black text-slate-900 text-lg focus:border-emerald-500 focus:bg-white transition-all shadow-inner" 
        value={value} 
        onChange={(e: React.ChangeEvent<HTMLInputElement>) => onChange(e.target.value)} 
      />
    </div>
  );
}

interface SelectInputProps {
  label: string;
  value: string;
  options: string[];
  onChange: (v: string) => void;
}
function SelectInput({ label, value, options, onChange }: SelectInputProps) {
  return (
    <div className="flex flex-col gap-2">
      <label className="text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2">{label}</label>
      <select 
        className="p-4 bg-slate-50 border border-slate-100 rounded-2xl outline-none font-black text-slate-900 text-lg focus:border-emerald-500 appearance-none cursor-pointer shadow-inner" 
        value={value} 
        onChange={(e: React.ChangeEvent<HTMLSelectElement>) => onChange(e.target.value)}
      >
        {options.map((opt: string) => <option key={opt} className="bg-white text-slate-900 font-bold">{opt}</option>)}
      </select>
    </div>
  );
}

interface StatusCardProps {
  label: string;
  icon: React.ReactNode;
  status: string;
  onStatusChange: (v: string) => void;
  notes: string;
  onNotesChange: (v: string) => void;
}
function StatusCard({ label, icon, status, onStatusChange, notes, onNotesChange }: StatusCardProps) {
  const getStatusColor = (s: string) => {
    if (s === "–û—Ç–ª–∏—á–µ–Ω") return "bg-emerald-500";
    if (s === "–î–æ–±—ä—Ä") return "bg-blue-500";
    if (s === "–ó–∞–±–µ–ª–µ–∂–∫–∏") return "bg-amber-500";
    return "bg-rose-500";
  };

  return (
    <div className="bg-white p-10 rounded-[3rem] border-2 border-slate-100 space-y-6 shadow-sm group hover:shadow-xl transition-all duration-500">
      <div className="flex justify-between items-center">
        <h3 className="font-black uppercase text-xs tracking-widest text-slate-500 flex items-center gap-3">
          <span className="text-emerald-600">{icon}</span> {label}
        </h3>
        <div className="flex items-center gap-2">
           <div className={`w-2 h-2 rounded-full animate-pulse ${getStatusColor(status)}`}></div>
           <select 
              value={status} 
              onChange={(e: React.ChangeEvent<HTMLSelectElement>) => onStatusChange(e.target.value)} 
              className="bg-slate-50 p-3 rounded-xl font-black text-xs uppercase tracking-tighter cursor-pointer outline-none border-none"
            >
            <option>–û—Ç–ª–∏—á–µ–Ω</option>
            <option>–î–æ–±—ä—Ä</option>
            <option>–ó–∞–±–µ–ª–µ–∂–∫–∏</option>
            <option>–ö—Ä–∏—Ç–∏—á–µ–Ω</option>
          </select>
        </div>
      </div>
      <textarea 
        className="w-full p-6 bg-slate-50 rounded-[2rem] outline-none text-base font-bold min-h-[120px] border-2 border-transparent focus:border-emerald-100 transition-all shadow-inner text-slate-600"
        placeholder={`–ë–µ–ª–µ–∂–∫–∏ –∑–∞ ${label.toLowerCase()}...`}
        value={notes}
        onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => onNotesChange(e.target.value)}
      />
    </div>
  );
}
--- END OF FILE: src/app/admin/reports/page.tsx ---

--- START OF FILE: src/app/sitemap.ts ---
import { MetadataRoute } from 'next'

export default function sitemap(): MetadataRoute.Sitemap {
  const baseUrl = 'https://fileverified.eu'

  // –°–ø–∏—Å—ä–∫ —Å —Ç–≤–æ–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∏
  const routes = [
    '',
    '/services',
    '/diagnostics',
    '/tpms',
    '/faq',
    '/book',
  ]

  return routes.map((route) => ({
    url: `${baseUrl}${route}`,
    lastModified: new Date(),
    changeFrequency: 'monthly',
    priority: route === '' ? 1 : 0.8,
  }))
}
--- END OF FILE: src/app/sitemap.ts ---

--- START OF FILE: src/app/layout.tsx ---
import type { Metadata } from "next"
import Link from "next/link"
import Image from "next/image"
import Script from "next/script"
import { Facebook, Phone, MessageCircle, FileText, ShieldCheck, Mail, MapPin } from "lucide-react"
import "./globals.css"
import MobileNav from "@/components/MobileNav"

export const metadata: Metadata = {
  title: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª –ø—Ä–µ–¥–∏ –ø–æ–∫—É–ø–∫–∞ –≤ –°–æ—Ñ–∏—è | FileVerified",
  description:
    "–ù–µ–∑–∞–≤–∏—Å–∏–º–∞ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª –ø—Ä–µ–¥–∏ –ø–æ–∫—É–ø–∫–∞. –ö–æ–º–ø—é—Ç—ä—Ä–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –æ–≥–ª–µ–¥ –Ω–∞ –∫—É–ø–µ –∏ —Ç–µ—Å—Ç –¥—Ä–∞–π–≤. –°–ø–µ—Å—Ç–µ—Ç–µ —Å–∏ –∏–∑–ª–∏—à–Ω–∏ —Ä–∞–∑—Ö–æ–¥–∏!",
  keywords: ["–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–ª–∞", "–æ–≥–ª–µ–¥ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª –°–æ—Ñ–∏—è", "–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –Ω–∞ –∫–æ–ª–∞", "–∞–≤—Ç–æ–µ–∫—Å–ø–µ—Ä—Ç", "—Ä–µ–∞–ª–Ω–∏ –∫–∏–ª–æ–º–µ—Ç—Ä–∏", "–ø—Ä–µ–≥–ª–µ–¥ –ø—Ä–µ–¥–∏ –ø–æ–∫—É–ø–∫–∞"],
  metadataBase: new URL("https://fileverified.eu"),
  alternates: {
    canonical: "/",
  },
  icons: {
    icon: [
      { url: "/favicon.ico" },
      { url: "/icon-192.png", sizes: "192x192", type: "image/png" },
    ],
    apple: [
      { url: "/apple-touch-icon.png" },
    ],
  },
  manifest: "/site.webmanifest",
  openGraph: {
    title: "FileVerified - –ù–µ–∑–∞–≤–∏—Å–∏–º –æ–≥–ª–µ–¥ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏",
    description: "–í–∏–∂—Ç–µ —Ä–µ–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∞, –ø—Ä–µ–¥–∏ –¥–∞ –ø–ª–∞—Ç–∏—Ç–µ. –ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ –°–æ—Ñ–∏—è.",
    url: "https://fileverified.eu",
    siteName: "FileVerified",
    images: [
      {
        url: "/og-image.jpg", // –£–≤–µ—Ä–∏ —Å–µ, —á–µ –∏–º–∞—à —Ç–∞–∫–æ–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ /public
        width: 1200,
        height: 630,
        alt: "FileVerified Car Inspection",
      },
    ],
    locale: "bg_BG",
    type: "website",
  },
  twitter: {
    card: "summary_large_image",
    title: "FileVerified - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏",
    description: "–ù–µ–∑–∞–≤–∏—Å–∏–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–æ–ª–∞ –ø—Ä–µ–¥–∏ –ø–æ–∫—É–ø–∫–∞ –≤ –°–æ—Ñ–∏—è.",
  },
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  const fbLink = "https://www.facebook.com/profile.php?id=61585477671669"
  const whatsappLink = "https://wa.me/359888570037"
  const viberLink = "viber://chat?number=%2B359888570037"

  return (
    <html lang="bg" className="scroll-smooth">
      <head>
        <Script 
          async 
          src="https://www.googletagmanager.com/gtag/js?id=G-JTLYG6PTXR" 
          strategy="afterInteractive"
        />
        <Script id="google-analytics" strategy="afterInteractive">
          {`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-JTLYG6PTXR');
          `}
        </Script>
      </head>
      <body className="bg-slate-50 text-slate-900 antialiased flex flex-col min-h-screen">
        {/* HEADER */}
        <header className="sticky top-0 z-50 border-b bg-white/95 backdrop-blur-sm">
          <div className="mx-auto max-w-7xl px-6">
            <div className="flex h-16 items-center justify-between gap-4">
              <Link href="/" className="flex items-center transition-opacity hover:opacity-90">
                <Image 
                  src="/logo-green.png" 
                  alt="FileVerified Logo" 
                  width={180} 
                  height={40} 
                  className="h-8 w-auto"
                  priority
                />
              </Link>

              <nav className="hidden items-center gap-6 md:flex">
                <Link href="/" className="text-sm font-medium text-slate-700 hover:text-emerald-600 transition-colors">–ù–∞—á–∞–ª–æ</Link>
                <Link href="/services" className="text-sm font-medium text-slate-700 hover:text-emerald-600 transition-colors">–ü—Ä–æ–≤–µ—Ä–∫–∞</Link>
                <Link href="/diagnostics" className="text-sm font-medium text-slate-700 hover:text-emerald-600 transition-colors">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</Link>
                <Link href="/tpms" className="text-sm font-medium text-slate-700 hover:text-emerald-600 transition-colors">TPMS</Link>
                
                <Link href="/report" className="flex items-center gap-1.5 text-sm font-bold text-emerald-600 hover:bg-emerald-100 bg-emerald-50 px-3 py-1.5 rounded-lg transition-all">
                  <FileText className="w-4 h-4" /> –ü—Ä–∏–º–µ—Ä–µ–Ω –¥–æ–∫–ª–∞–¥
                </Link>

                <Link href="/faq" className="text-sm font-medium text-slate-700 hover:text-emerald-600 transition-colors">FAQ</Link>

                <a href={fbLink} target="_blank" rel="noopener noreferrer" aria-label="Facebook Page" className="ml-2 text-slate-400 hover:text-[#1877F2] transition-colors">
                  <Facebook className="h-5 w-5 fill-current" />
                </a>

                <Link href="/book" className="inline-flex items-center rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700 transition shadow-md shadow-emerald-100 active:scale-95">
                  –ó–∞–ø–∞–∑–∏ –æ–≥–ª–µ–¥
                </Link>
              </nav>

              <MobileNav />
            </div>
          </div>
        </header>

        {/* ANNOUNCEMENT BANNER */}
        <div className="border-b border-amber-200 bg-amber-50/50">
          <div className="mx-auto max-w-7xl px-6 py-2 text-xs md:text-sm text-amber-800 flex items-center justify-center gap-2">
            <span className="relative flex h-2 w-2">
              <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"></span>
              <span className="relative inline-flex rounded-full h-2 w-2 bg-amber-500"></span>
            </span>
            –°–∞–π—Ç—ä—Ç –µ –≤ –ø—Ä–æ—Ü–µ—Å –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞. –û—á–∞–∫–≤–∞–π—Ç–µ —Å–∫–æ—Ä–æ –ø—ä–ª–Ω–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç!
          </div>
        </div>

        {/* MAIN CONTENT */}
        <main className="flex-grow mx-auto w-full max-w-7xl px-6 py-10">
          {children}
        </main>

        {/* FOOTER */}
        <footer className="border-t bg-white">
          <div className="mx-auto max-w-7xl px-6 py-12">
            <div className="grid gap-12 md:grid-cols-4">
              <div className="md:col-span-1 space-y-6">
                <Link href="/" className="inline-flex items-center">
                  <Image src="/logo-green.png" alt="FileVerified" width={160} height={36} className="h-8 w-auto" />
                </Link>
                <p className="text-sm text-slate-600 leading-relaxed">
                  –ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ –ø–æ–º–æ—â –ø—Ä–∏ –∏–∑–±–æ—Ä –Ω–∞ —É–ø–æ—Ç—Ä–µ–±—è–≤–∞–Ω –∞–≤—Ç–æ–º–æ–±–∏–ª. <br />
                  –í–∞—à–∞—Ç–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç –µ –Ω–∞—à –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.
                </p>
                <div className="flex items-center gap-4">
                  <a href={fbLink} target="_blank" rel="noopener noreferrer" aria-label="Facebook" className="text-slate-400 hover:text-[#1877F2] transition-all transform hover:scale-110"><Facebook className="h-6 w-6 fill-current" /></a>
                  <a href={whatsappLink} target="_blank" rel="noopener noreferrer" aria-label="WhatsApp" className="text-slate-400 hover:text-[#25D366] transition-all transform hover:scale-110"><MessageCircle className="h-6 w-6 fill-current" /></a>
                  <a href={viberLink} aria-label="Viber" className="text-slate-400 hover:text-[#7360F2] transition-all transform hover:scale-110"><Phone className="h-6 w-6" /></a>
                </div>
              </div>

              <div>
                <h3 className="font-bold text-slate-900 text-xs uppercase tracking-[0.2em] mb-6">–£—Å–ª—É–≥–∏</h3>
                <ul className="space-y-3 text-sm">
                  <li><Link href="/services" className="text-slate-600 hover:text-emerald-600 transition-colors">–û–≥–ª–µ–¥ –Ω–∞ –º—è—Å—Ç–æ</Link></li>
                  <li><Link href="/diagnostics" className="text-slate-600 hover:text-emerald-600 transition-colors">–ö–æ–º–ø—é—Ç—ä—Ä–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</Link></li>
                  <li><Link href="/tpms" className="text-slate-600 hover:text-emerald-600 transition-colors">–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ TPMS</Link></li>
                  <li><Link href="/report" className="text-emerald-600 font-bold hover:underline">–ü—Ä–∏–º–µ—Ä–µ–Ω –¥–æ–∫–ª–∞–¥</Link></li>
                </ul>
              </div>

              <div>
                <h3 className="font-bold text-slate-900 text-xs uppercase tracking-[0.2em] mb-6">–ü–æ–ª–µ–∑–Ω–æ</h3>
                <ul className="space-y-3 text-sm">
                  <li><Link href="/faq" className="text-slate-600 hover:text-emerald-600 transition-colors">–ß–µ—Å—Ç–æ –∑–∞–¥–∞–≤–∞–Ω–∏ –≤—ä–ø—Ä–æ—Å–∏</Link></li>
                  <li><Link href="/terms" className="text-slate-600 hover:text-emerald-600 transition-colors text-xs">–û–±—â–∏ —É—Å–ª–æ–≤–∏—è</Link></li>
                  <li><Link href="/privacy" className="text-slate-600 hover:text-emerald-600 transition-colors text-xs">–ü–æ–≤–µ—Ä–∏—Ç–µ–ª–Ω–æ—Å—Ç</Link></li>
                </ul>
              </div>

              <div>
                <h3 className="font-bold text-slate-900 text-xs uppercase tracking-[0.2em] mb-6">–ö–æ–Ω—Ç–∞–∫—Ç</h3>
                <ul className="space-y-4 text-sm">
                  <li className="flex items-start gap-3 text-slate-600">
                    <MapPin className="w-5 h-5 text-emerald-600 shrink-0" />
                    <span>–≥—Ä. –°–æ—Ñ–∏—è –∏ –æ–∫–æ–ª–Ω–æ—Å—Ç—Ç–∞</span>
                  </li>
                  <li>
                    <a href="tel:0888570037" className="flex items-center gap-3 hover:text-emerald-600 transition-colors font-bold text-slate-900 group">
                      <Phone className="w-5 h-5 text-emerald-600 group-hover:animate-bounce" />
                      0888 57 00 37
                    </a>
                  </li>
                  <li>
                    <a href="mailto:info@fileverified.eu" className="flex items-center gap-3 hover:text-emerald-600 transition-colors text-slate-600">
                      <Mail className="w-5 h-5 text-emerald-600" />
                      info@fileverified.eu
                    </a>
                  </li>
                </ul>
              </div>
            </div>

            <div className="mt-12 border-t pt-8 flex flex-col md:flex-row justify-between items-center gap-6">
              <p className="text-[10px] text-slate-400 uppercase tracking-widest">
                ¬© {new Date().getFullYear()} FileVerified.eu. –í—Å–∏—á–∫–∏ –ø—Ä–∞–≤–∞ –∑–∞–ø–∞–∑–µ–Ω–∏.
              </p>
              <div className="flex items-center gap-3 px-4 py-2 bg-slate-50 rounded-full border border-slate-100">
                <ShieldCheck className="w-4 h-4 text-emerald-600" />
                <span className="text-[10px] font-bold text-slate-500 uppercase tracking-tighter">
                  Independent Car Inspection
                </span>
              </div>
            </div>
          </div>
        </footer>
      </body>
    </html>
  )
}
--- END OF FILE: src/app/layout.tsx ---

--- START OF FILE: src/app/book/page.tsx ---
"use client"

import { useMemo, useState } from "react"
import { Loader2, CheckCircle2 } from "lucide-react"

type PackageId = "Standard" | "Premium" | "PremiumEV"

const PACKAGES: Array<{
  id: PackageId
  name: string
  price: string
  duration: string
  short: string
  highlight?: boolean
}> = [
  {
    id: "Standard",
    name: "Standard",
    price: "100 Euro",
    duration: "60‚Äì75 –º–∏–Ω",
    short: "–ë–∞–∑–æ–≤–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ + –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞",
  },
  {
    id: "Premium",
    name: "Premium",
    price: "250 Euro",
    duration: "90‚Äì120 –º–∏–Ω",
    short: "–ù–∞–π-–¥–æ–±—Ä–∏—è—Ç –±–∞–ª–∞–Ω—Å (–ø—Ä–µ–ø–æ—Ä—ä—á–∞–Ω–æ)",
    highlight: true,
  },
  {
    id: "PremiumEV",
    name: "PremiumEV",
    price: "300 Euro",
    duration: "120‚Äì150 –º–∏–Ω",
    short: "–ú–∞–∫—Å–∏–º–∞–ª–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ + –¥–æ–∫–ª–∞–¥",
  },
]

const TIME_SLOTS = ["09:00", "11:00", "13:00", "15:00", "17:00"]

export default function BookPage() {
  const [selected, setSelected] = useState<PackageId>("Premium")
  const [status, setStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle')
  
  const selectedPackage = useMemo(
    () => PACKAGES.find((p) => p.id === selected)!,
    [selected]
  )

  const [form, setForm] = useState({
    fullName: "",
    phone: "",
    email: "", // –í–µ—á–µ –µ —Ç—É–∫
    makeModel: "",
    carLink: "",
    year: "",
    vin: "",
    mileage: "",
    location: "",
    notes: "",
    date: "",
    time: "",
  })

  function update<K extends keyof typeof form>(key: K, value: (typeof form)[K]) {
    setForm((prev) => ({ ...prev, [key]: value }))
  }

  async function onSubmit(e: React.FormEvent) {
    e.preventDefault()
    setStatus('loading')

    try {
      const response = await fetch('/api/send', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          ...form,
          packageName: selectedPackage.name,
          packagePrice: selectedPackage.price
        }),
      })

      if (response.ok) {
        setStatus('success')
      } else {
        setStatus('error')
      }
    } catch (err) {
      setStatus('error')
    }
  }

  if (status === 'success') {
    return (
      <div className="min-h-[60vh] flex flex-col items-center justify-center p-6 text-center animate-in fade-in zoom-in duration-300">
        <CheckCircle2 className="w-20 h-20 text-emerald-500 mb-6" />
        <h1 className="text-3xl font-bold text-slate-900 mb-2">–ó–∞—è–≤–∫–∞—Ç–∞ –µ –ø–æ–ª—É—á–µ–Ω–∞!</h1>
        <p className="text-slate-600 mb-8 max-w-md text-lg">
          –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –í–∏! –ú–∞—Ä—Ç–∏–Ω –§–∏–ª–µ–≤ —â–µ —Å–µ —Å–≤—ä—Ä–∂–µ —Å –í–∞—Å –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω <strong>{form.phone}</strong> –∑–∞ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ —á–∞—Å–∞.
        </p>
        <button 
          onClick={() => { setStatus('idle'); setForm({ ...form, date: "", time: "" }) }}
          className="bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold shadow-lg hover:bg-slate-800 transition-all"
        >
          –ù–û–í–ê –ó–ê–Ø–í–ö–ê
        </button>
      </div>
    )
  }

  return (
    <section className="space-y-10 py-6 max-w-7xl mx-auto">
      <div className="space-y-3 px-4 text-center md:text-left">
        <h1 className="text-3xl md:text-5xl font-extrabold text-slate-900 tracking-tight">
          –ó–∞–ø–∞–∑–∏ –æ–≥–ª–µ–¥
        </h1>
        <p className="text-slate-600 text-lg md:text-xl max-w-2xl">
          –ò–∑–±–µ—Ä–µ—Ç–µ –ø–∞–∫–µ—Ç –∏ –ø–æ–ø—ä–ª–Ω–µ—Ç–µ –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∞. –ú–∞—Ä—Ç–∏–Ω —â–µ –í–∏ —Å–µ –æ–±–∞–¥–∏ –∑–∞ —Ñ–∏–Ω–∞–ª–Ω–æ –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ.
        </p>
      </div>

      {/* –ü–ê–ö–ï–¢–ò */}
      <div className="grid gap-6 lg:grid-cols-3 px-4">
        {PACKAGES.map((p) => {
          const active = p.id === selected
          return (
            <button
              key={p.id}
              type="button"
              onClick={() => setSelected(p.id)}
              className={`text-left rounded-3xl border bg-white p-6 shadow-sm transition-all relative overflow-hidden hover:-translate-y-1 hover:shadow-xl ${
                active ? "border-emerald-500 ring-4 ring-emerald-50" : "border-slate-100"
              }`}
            >
              {p.highlight && (
                <div className="mb-4 inline-flex items-center rounded-full bg-emerald-500 px-3 py-1 text-xs font-black text-white uppercase tracking-widest">
                  –ü–†–ï–ü–û–†–™–ß–ê–ù
                </div>
              )}
              <div className="flex items-baseline justify-between gap-4">
                <div className="text-2xl font-black text-slate-900">{p.name}</div>
                <div className="text-right">
                  <div className="text-2xl font-black text-emerald-600">{p.price}</div>
                  <div className="text-xs text-slate-400 font-bold uppercase">{p.duration}</div>
                </div>
              </div>
              <div className="mt-3 text-sm text-slate-600 leading-relaxed font-medium">{p.short}</div>
              <div className="mt-5">
                <span className={`inline-flex items-center rounded-xl px-5 py-2.5 text-sm font-black transition-all ${
                  active ? "bg-emerald-600 text-white shadow-lg shadow-emerald-200" : "bg-slate-100 text-slate-600"
                }`}>
                  {active ? "–ò–ó–ë–†–ê–ù –ü–ê–ö–ï–¢" : "–ò–ó–ë–ï–†–ò –¢–û–ó–ò –ü–ê–ö–ï–¢"}
                </span>
              </div>
            </button>
          )
        })}
      </div>

      <div className="grid gap-8 lg:grid-cols-3 px-4 pb-20">
        <form 
          onSubmit={onSubmit} 
          className="lg:col-span-2 rounded-[2.5rem] border border-slate-100 bg-white p-6 md:p-10 shadow-2xl shadow-slate-200/50 space-y-8"
        >
          <div className="grid gap-6 md:grid-cols-2">
            <Field label="–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è">
              <input className="w-full rounded-2xl border border-slate-200 bg-slate-50/50 px-5 py-4 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:bg-white transition-all text-slate-900 font-medium" value={form.fullName} onChange={(e) => update("fullName", e.target.value)} placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" required />
            </Field>
            <Field label="–¢–µ–ª–µ—Ñ–æ–Ω">
              <input className="w-full rounded-2xl border border-slate-200 bg-slate-50/50 px-5 py-4 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:bg-white transition-all text-slate-900 font-medium" value={form.phone} onChange={(e) => update("phone", e.target.value)} placeholder="0888 123 456" required />
            </Field>
            {/* –î–û–ë–ê–í–ï–ù–û –ü–û–õ–ï –ó–ê –ò–ú–ï–ô–õ */}
            <Field label="–ò–º–µ–π–ª –∞–¥—Ä–µ—Å">
              <input type="email" className="w-full rounded-2xl border border-slate-200 bg-slate-50/50 px-5 py-4 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:bg-white transition-all text-slate-900 font-medium" value={form.email} onChange={(e) => update("email", e.target.value)} placeholder="example@mail.com" required />
            </Field>
            <Field label="–ú–∞—Ä–∫–∞ –∏ –º–æ–¥–µ–ª">
              <input className="w-full rounded-2xl border border-slate-200 bg-slate-50/50 px-5 py-4 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:bg-white transition-all text-slate-900 font-medium" value={form.makeModel} onChange={(e) => update("makeModel", e.target.value)} placeholder="VW Golf 7 GTE" required />
            </Field>
            <Field label="–õ–∏–Ω–∫ –∫—ä–º –æ–±—è–≤–∞">
              <input className="w-full rounded-2xl border border-slate-200 bg-slate-50/50 px-5 py-4 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:bg-white transition-all text-slate-900 font-medium font-bold text-emerald-600" value={form.carLink} onChange={(e) => update("carLink", e.target.value)} placeholder="Mobile.bg / Cars.bg..." required />
            </Field>
            <Field label="–ì–æ–¥–∏–Ω–∞ (–ø–æ –∂–µ–ª–∞–Ω–∏–µ)">
              <input className="w-full rounded-2xl border border-slate-200 bg-slate-50/50 px-5 py-4 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:bg-white transition-all text-slate-900 font-medium" value={form.year} onChange={(e) => update("year", e.target.value)} placeholder="2018" />
            </Field>
            <Field label="VIN (–ø–æ –∂–µ–ª–∞–Ω–∏–µ)">
              <input className="w-full rounded-2xl border border-slate-200 bg-slate-50/50 px-5 py-4 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:bg-white transition-all text-slate-900 font-medium" value={form.vin} onChange={(e) => update("vin", e.target.value.toUpperCase())} placeholder="WBA..." />
            </Field>
          </div>

          <div className="grid gap-6 md:grid-cols-2">
            <Field label="–î–∞—Ç–∞ –∑–∞ –æ–≥–ª–µ–¥">
              <input type="date" className="w-full rounded-2xl border border-slate-200 bg-slate-50/50 px-5 py-4 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:bg-white transition-all text-slate-900 font-bold" value={form.date} onChange={(e) => update("date", e.target.value)} required />
            </Field>
            <Field label="–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω —á–∞—Å">
              <div className="grid grid-cols-3 gap-2">
                {TIME_SLOTS.map((slot) => (
                  <button key={slot} type="button" onClick={() => update("time", slot)} className={`rounded-xl border py-3 text-sm font-black transition-all ${form.time === slot ? "bg-emerald-600 text-white border-emerald-600 shadow-lg shadow-emerald-200" : "bg-white border-slate-200 text-slate-500 hover:border-emerald-300"}`}>
                    {slot}
                  </button>
                ))}
              </div>
            </Field>
          </div>

          <Field label="–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ –±–µ–ª–µ–∂–∫–∏">
            <textarea className="w-full rounded-2xl border border-slate-200 bg-slate-50/50 px-5 py-4 outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 focus:bg-white transition-all text-slate-900 font-medium min-h-[120px] resize-none" value={form.notes} onChange={(e) => update("notes", e.target.value)} placeholder="–ö–∞–∫–≤–æ –∏—Å–∫–∞—Ç–µ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏–º —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ?" />
          </Field>

          {status === 'error' && (
            <div className="p-4 bg-red-50 text-red-600 rounded-2xl text-sm font-bold border border-red-100 flex items-center gap-2">
              ‚ö†Ô∏è –ù–µ—â–æ —Å–µ –æ–±—ä—Ä–∫–∞. –ú–æ–ª—è, –æ–±–∞–¥–µ—Ç–µ —Å–µ –Ω–∞ 0888 57 00 37.
            </div>
          )}

          <button 
            type="submit" 
            disabled={status === 'loading'} 
            className="w-full rounded-[1.25rem] bg-emerald-600 hover:bg-emerald-700 px-6 py-6 font-black text-xl text-white shadow-2xl shadow-emerald-200 transition-all flex items-center justify-center gap-3 disabled:bg-slate-300 disabled:cursor-not-allowed active:scale-[0.98]"
          >
            {status === 'loading' ? (
              <><Loader2 className="w-7 h-7 animate-spin" /> –ò–ó–ü–†–ê–©–ê–ù–ï...</>
            ) : (
              "–ò–ó–ü–†–ê–¢–ò –ó–ê–Ø–í–ö–ê –ó–ê –û–ì–õ–ï–î"
            )}
          </button>
        </form>

        <aside className="space-y-6">
          <div className="rounded-[2.5rem] border border-emerald-100 bg-emerald-50/40 p-8 space-y-8 sticky top-24">
            <div className="text-sm font-black text-emerald-800 uppercase tracking-[0.2em]">–û–±–æ–±—â–µ–Ω–∏–µ</div>
            <div className="space-y-4">
              <div className="rounded-3xl bg-white p-6 border border-emerald-100 shadow-sm">
                <div className="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1">–ò–∑–±—Ä–∞–Ω –ü–∞–∫–µ—Ç</div>
                <div className="text-xl font-black text-slate-900 leading-tight">{selectedPackage.name}</div>
                <div className="text-base font-bold text-emerald-600 mt-1">{selectedPackage.price} ¬∑ {selectedPackage.duration}</div>
              </div>
              <div className="rounded-3xl bg-white p-6 border border-emerald-100 shadow-sm">
                <div className="text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1">–ü–ª–∞–Ω–∏—Ä–∞–Ω–æ –∑–∞</div>
                <div className="text-xl font-black text-slate-900">
                  {form.date ? new Date(form.date).toLocaleDateString('bg-BG', { day: 'numeric', month: 'long' }) : "‚Äî"}
                </div>
                <div className="text-base font-bold text-slate-500 mt-1">
                  {form.time ? `–í ${form.time} —á–∞—Å–∞` : "–ò–∑–±–µ—Ä–µ—Ç–µ —á–∞—Å"}
                </div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </section>
  )
}

function Field({ label, children }: { label: string, children: React.ReactNode }) {
  return (
    <div className="space-y-2 block">
      <div className="text-sm font-black text-slate-700 ml-1 uppercase tracking-wider">{label}</div>
      {children}
    </div>
  )
}
--- END OF FILE: src/app/book/page.tsx ---

--- START OF FILE: src/app/diagnostics/page.tsx ---
import Link from "next/link"

export const metadata = {
  title: "–ö–æ–º–ø—é—Ç—ä—Ä–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ | FileVerified",
  description:
    "–ü—ä–ª–Ω–∞ –∫–æ–º–ø—é—Ç—ä—Ä–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª ‚Äî —á–µ—Ç–µ–Ω–µ –Ω–∞ –≥—Ä–µ—à–∫–∏, live data, —Ç–µ—Å—Ç–æ–≤–µ –∏ —è—Å–Ω–æ –æ–±—è—Å–Ω–µ–Ω–∏–µ. –°–æ—Ñ–∏—è.",
}

export default function DiagnosticsPage() {
  return (
    <section className="space-y-10">
      {/* Hero */}
      <div className="rounded-3xl border bg-white p-8 shadow-sm">
        <div className="space-y-3">
          <div className="inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700">
            –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ ‚Ä¢ OBD ‚Ä¢ –ú–æ–¥—É–ª–∏
          </div>
          <h1 className="text-3xl md:text-4xl font-bold text-slate-900">
            –ü—ä–ª–Ω–∞ –∫–æ–º–ø—é—Ç—ä—Ä–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
          </h1>
          <p className="text-slate-600 text-lg max-w-3xl">
            –ß–µ—Ç–µ–º –≥—Ä–µ—à–∫–∏ –æ—Ç —É–ø—Ä–∞–≤–ª—è–≤–∞—â–∏—Ç–µ –º–æ–¥—É–ª–∏, –ø—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ live –¥–∞–Ω–Ω–∏ –∏
            —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–∏—Ç–µ. –ù–∞–π-–≤–∞–∂–Ω–æ—Ç–æ: –ø–æ–ª—É—á–∞–≤–∞—à —è—Å–Ω–æ –æ–±—è—Å–Ω–µ–Ω–∏–µ –∫–æ–µ –µ
            —Ä–µ–∞–ª–µ–Ω –ø—Ä–æ–±–ª–µ–º, –∫–æ–µ –µ ‚Äû—Å—Ç–∞—Ä–æ‚Äú –∏ –∫–æ–µ –µ —Å–∏–º–ø—Ç–æ–º.
          </p>

          <div className="flex flex-col gap-3 sm:flex-row sm:items-center">
            <Link
              href="/book"
              className="inline-flex items-center justify-center rounded-xl bg-emerald-600 px-5 py-3 text-sm font-semibold text-white hover:bg-emerald-700 transition"
            >
              –ó–∞–ø–∞–∑–∏ –æ–≥–ª–µ–¥
            </Link>
            <div className="text-sm text-slate-500">
              –û–Ω–ª–∞–π–Ω –∑–∞–ø–∞–∑–≤–∞–Ω–µ—Ç–æ –µ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ ‚Äî –ø–æ—Ç–≤—ä—Ä–∂–¥–µ–Ω–∏–µ—Ç–æ –µ –ø–æ
              —Ç–µ–ª–µ—Ñ–æ–Ω.
            </div>
          </div>
        </div>
      </div>

      {/* What you get */}
      <div className="grid gap-6 lg:grid-cols-3">
        <Card title="–ö–∞–∫–≤–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ">
          ECU (–¥–≤–∏–≥–∞—Ç–µ–ª), —Ç—Ä–∞–Ω—Å–º–∏—Å–∏—è, ABS/ESP, airbag, –∫–ª–∏–º–∞—Ç—Ä–æ–Ω–∏–∫, –∫–æ–º—Ñ–æ—Ä—Ç,
          body/BCM, —Ç–∞–±–ª–æ, TPMS (–∞–∫–æ –∏–º–∞), –∫–∞–∫—Ç–æ –∏ –¥—Ä—É–≥–∏ –º–æ–¥—É–ª–∏ —Å–ø–æ—Ä–µ–¥
          –∞–≤—Ç–æ–º–æ–±–∏–ª–∞.
        </Card>

        <Card title="–ö–∞–∫–≤–æ –ø–æ–ª—É—á–∞–≤–∞—à">
          –°–ø–∏—Å—ä–∫ –Ω–∞ –≥—Ä–µ—à–∫–∏—Ç–µ, —Å—Ç–∞—Ç—É—Å (–∞–∫—Ç–∏–≤–Ω–∞/–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞), –∫–ª—é—á–æ–≤–∏ live –¥–∞–Ω–Ω–∏ –∏
          –Ω–∞—Å–æ–∫–∏ –∑–∞ —Å–ª–µ–¥–≤–∞—â–∏ —Å—Ç—ä–ø–∫–∏: —Ä–µ–º–æ–Ω—Ç, —Ç–µ—Å—Ç, –∏–ª–∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ.
        </Card>

        <Card title="–ó–∞—â–æ –µ –≤–∞–∂–Ω–æ">
          –ú–Ω–æ–≥–æ ‚Äû—Å–≤–µ—Ç–Ω–∞–ª–∏ –ª–∞–º–ø–∏‚Äú —Å–∞ —Å–∏–º–ø—Ç–æ–º. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞—Ç–∞ –ø–æ–º–∞–≥–∞ –¥–∞ –Ω–µ —Å–º–µ–Ω—è—à
          —á–∞—Å—Ç–∏ –Ω–∞ —Å–ª—è–ø–æ –∏ –¥–∞ —Ä–∞–∑–±–µ—Ä–µ—à —Ä–µ–∞–ª–Ω–∞—Ç–∞ –ø—Ä–∏—á–∏–Ω–∞.
        </Card>
      </div>

      {/* Included */}
      <div className="rounded-3xl border bg-white p-8 shadow-sm space-y-6">
        <h2 className="text-2xl font-bold text-slate-900">
          –ö–∞–∫–≤–æ –≤–∫–ª—é—á–≤–∞ —É—Å–ª—É–≥–∞—Ç–∞
        </h2>

        <div className="grid gap-4 md:grid-cols-2">
          <Bullet
            title="–°–∫–∞–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –º–æ–¥—É–ª–∏"
            text="–ß–µ—Ç–µ–Ω–µ –Ω–∞ –≥—Ä–µ—à–∫–∏ –æ—Ç –Ω–∞–ª–∏—á–Ω–∏—Ç–µ —Å–∏—Å—Ç–µ–º–∏ —Å–ø–æ—Ä–µ–¥ –æ–±–æ—Ä—É–¥–≤–∞–Ω–µ—Ç–æ."
          />
          <Bullet
            title="Live data"
            text="–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–ª—é—á–æ–≤–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏, —Å–µ–Ω–∑–æ—Ä–∏, –Ω–∞–ª—è–≥–∞–Ω–∏—è –∏ –¥—Ä.)."
          />
          <Bullet
            title="–°—Ç–∞—Ç—É—Å –∏ –ª–æ–≥–∏–∫–∞"
            text="–†–∞–∑–≥—Ä–∞–Ω–∏—á–∞–≤–∞–º–µ –∞–∫—Ç–∏–≤–Ω–∏ –æ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –≥—Ä–µ—à–∫–∏ –∏ —Ç—ä—Ä—Å–∏–º –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–∏ –≤—Ä—ä–∑–∫–∏."
          />
          <Bullet
            title="–ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ (–ø—Ä–∏ —Å–º–∏—Å—ä–ª)"
            text="–ò–∑—á–∏—Å—Ç–≤–∞–º–µ —Å–∞–º–æ –∫–æ–≥–∞—Ç–æ –∏–º–∞ –ª–æ–≥–∏–∫–∞ (—Å–ª–µ–¥ —Ç–µ—Å—Ç/–ø—Ä–æ–≤–µ—Ä–∫–∞), –Ω–µ ‚Äû–∑–∞ –¥–∞ –∏–∑–≥–∞—Å–Ω–µ –ª–∞–º–ø–∞—Ç–∞‚Äú."
          />
        </div>

        <div className="rounded-2xl bg-amber-50 p-5 text-sm text-amber-900">
          <div className="font-semibold">–í–∞–∂–Ω–æ</div>
          <div className="mt-1 text-amber-900/80">
            –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞—Ç–∞ –Ω–µ –µ ‚Äû–º–∞–≥–∏—è‚Äú ‚Äî –ø—Ä–∏ –Ω—è–∫–æ–∏ –ø—Ä–æ–±–ª–µ–º–∏ —Å–µ –∏–∑–∏—Å–∫–≤–∞—Ç
            –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ —Ç–µ—Å—Ç–æ–≤–µ (–º–µ—Ö–∞–Ω–∏—á–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏, –¥–∏–º —Ç–µ—Å—Ç, –∏–∑–º–µ—Ä–≤–∞–Ω–∏—è –∏
            —Ç.–Ω.). –¶–µ–ª—Ç–∞ –µ –¥–∞ —Å—Ç–µ—Å–Ω–∏–º –ø—Ä–∏—á–∏–Ω–∞—Ç–∞ –∏ –¥–∞ –∏–∑–±–µ–≥–Ω–µ–º –∏–∑–ª–∏—à–Ω–∏ —Ä–µ–º–æ–Ω—Ç–∏.
          </div>
        </div>
      </div>

      {/* When */}
      <div className="grid gap-6 lg:grid-cols-3">
        <Card title="–ö–æ–≥–∞ –∏–º–∞ —Å–º–∏—Å—ä–ª">
          –°–≤–µ—Ç–Ω–∞–ª–∞ –ª–∞–º–ø–∞, –ø—Ä–∏–¥—ä—Ä–ø–≤–∞–Ω–µ, –∑–∞–≥—É–±–∞ –Ω–∞ –º–æ—â–Ω–æ—Å—Ç, –ø–æ–≤–∏—à–µ–Ω —Ä–∞–∑—Ö–æ–¥,
          –Ω–µ–ø—Ä–∞–≤–∏–ª–Ω–æ –ø—Ä–µ–≤–∫–ª—é—á–≤–∞–Ω–µ, –ø—Ä–æ–±–ª–µ–º–∏ —Å ABS/ESP, –≥—Ä–µ—à–∫–∏ —Å–ª–µ–¥ —Ä–µ–º–æ–Ω—Ç.
        </Card>
        <Card title="–ü—Ä–∏ –ø–æ–∫—É–ø–∫–∞">
          –°—É–ø–µ—Ä –ø–æ–ª–µ–∑–Ω–æ –µ –∫–∞—Ç–æ —á–∞—Å—Ç –æ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–µ–¥–∏ –ø–æ–∫—É–ø–∫–∞ ‚Äî –≤–∏–∂–¥–∞–º–µ –∫–∞–∫–≤–æ
          –µ –ø–∏–ø–∞–Ω–æ/–∏–∑—á–∏—Å—Ç–≤–∞–Ω–æ –∏ –¥–∞–ª–∏ –∏–º–∞ –∞–∫—Ç–∏–≤–Ω–∏ –ø—Ä–æ–±–ª–µ–º–∏.
        </Card>
        <Card title="–°–ª–µ–¥ –æ–±—Å–ª—É–∂–≤–∞–Ω–µ">
          –ê–∫–æ –µ –ø—Ä–∞–≤–µ–Ω —Ä–µ–º–æ–Ω—Ç/–æ–±—Å–ª—É–∂–≤–∞–Ω–µ ‚Äî –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞—Ç–∞ –ø–æ—Ç–≤—ä—Ä–∂–¥–∞–≤–∞ –¥–∞–ª–∏
          –≤—Å–∏—á–∫–æ –µ –Ω–∞—Ä–µ–¥ –∏ –Ω—è–º–∞ –æ—Å—Ç–∞—Ç—ä—á–Ω–∏ –≥—Ä–µ—à–∫–∏.
        </Card>
      </div>
    </section>
  )
}

function Card({ title, children }: { title: string; children: React.ReactNode }) {
  return (
    <div className="rounded-3xl border bg-white p-6 shadow-sm">
      <div className="text-lg font-bold text-slate-900">{title}</div>
      <div className="mt-2 text-sm leading-6 text-slate-600">{children}</div>
    </div>
  )
}

function Bullet({ title, text }: { title: string; text: string }) {
  return (
    <div className="rounded-2xl border bg-white p-5">
      <div className="font-semibold text-slate-900">{title}</div>
      <div className="mt-1 text-sm text-slate-600">{text}</div>
    </div>
  )
}
--- END OF FILE: src/app/diagnostics/page.tsx ---

--- START OF FILE: src/app/layout_backup.tsx ---

--- END OF FILE: src/app/layout_backup.tsx ---

--- START OF FILE: src/app/api/contact/route.ts ---
import { Resend } from 'resend';
import { NextResponse } from 'next/server';

export const dynamic = 'force-dynamic';

export async function POST(request: Request) {
  try {
    const apiKey = process.env.RESEND_API_KEY;
    
    if (!apiKey) {
      throw new Error("RESEND_API_KEY is missing");
    }

    const resend = new Resend(apiKey);
    const body = await request.json();
    
    const { 
      fullName, email, phone, makeModel, carLink, 
      year, vin, date, time, notes, packageName, packagePrice 
    } = body;

    const adminRes = await resend.emails.send({
      from: 'FileVerified <info@fileverified.eu>',
      to: ['martin.filev@gmail.com'],
      replyTo: email || undefined, 
      subject: `–ù–æ–≤–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è: ${makeModel} - ${fullName}`,
      html: `
        <div style="font-family: sans-serif; line-height: 1.5;">
          <h2>–ù–æ–≤–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞</h2>
          <hr />
          <p><strong>–ü–∞–∫–µ—Ç:</strong> ${packageName} (${packagePrice})</p>
          <p><strong>–ö–ª–∏–µ–Ω—Ç:</strong> ${fullName}</p>
          <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${phone}</p>
          <p><strong>–ò–º–µ–π–ª:</strong> ${email}</p>
          <br />
          <p><strong>–ê–≤—Ç–æ–º–æ–±–∏–ª:</strong> ${makeModel}</p>
          <p><strong>–õ–∏–Ω–∫:</strong> <a href="${carLink}">${carLink}</a></p>
          <p><strong>–î–∞—Ç–∞/–ß–∞—Å:</strong> ${date} –≤ ${time} —á.</p>
        </div>
      `
    });

    if (email && email.trim() !== "") {
      await resend.emails.send({
        from: 'FileVerified <info@fileverified.eu>',
        to: [email.trim()],
        subject: `–í–∞—à–∞—Ç–∞ –∑–∞—è–≤–∫–∞ –∑–∞ –æ–≥–ª–µ–¥ –µ –ø—Ä–∏–µ—Ç–∞ - FileVerified.eu`,
        html: `
          <div style="font-family: sans-serif; line-height: 1.6; color: #333;">
            <h2 style="color: #059669;">–ó–¥—Ä–∞–≤–µ–π—Ç–µ, ${fullName}!</h2>
            <p>–í–∞—à–∞—Ç–∞ –∑–∞—è–≤–∫–∞ –∑–∞ <strong>${makeModel}</strong> –±–µ—à–µ –ø–æ–ª—É—á–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ.</p>
          </div>
        `
      });
    }

    return NextResponse.json({ success: true });
  } catch (error: any) {
    console.error("Booking Route Error:", error);
    return NextResponse.json({ error: error.message }, { status: 500 });
  }
}
--- END OF FILE: src/app/api/contact/route.ts ---

--- START OF FILE: src/app/api/bookings/route.ts ---
import { NextResponse } from "next/server";
import { prisma } from "@/lib/prisma";

export const dynamic = 'force-dynamic';

export async function GET() {
  try {
    const bookings = await prisma.booking.findMany({
      orderBy: { createdAt: 'desc' }
    });
    return NextResponse.json(bookings);
  } catch (error) {
    console.error("–ì—Ä–µ—à–∫–∞ –≤ API Bookings:", error);
    return NextResponse.json({ error: "Database error" }, { status: 500 });
  }
}

export async function PATCH(request: Request) {
  try {
    const { id, status } = await request.json();
    const updated = await prisma.booking.update({
      where: { id },
      data: { status }
    });
    return NextResponse.json(updated);
  } catch (error) {
    return NextResponse.json({ error: "Update error" }, { status: 500 });
  }
}
--- END OF FILE: src/app/api/bookings/route.ts ---

--- START OF FILE: src/app/api/files/route.ts ---
import { NextRequest, NextResponse } from 'next/server';
import { readFile } from 'fs/promises';
import path from 'path';
import { existsSync } from 'fs';

export async function GET(request: NextRequest) {
  const { searchParams } = new URL(request.url);
  let filePath = searchParams.get('path'); 

  if (!filePath) return new NextResponse('Path missing', { status: 400 });

  try {
    // –ü—Ä–µ–º–∞—Ö–≤–∞–º–µ –≤–æ–¥–µ—â–∞ –Ω–∞–∫–ª–æ–Ω–µ–Ω–∞ —á–µ—Ä—Ç–∞, –∞–∫–æ –∏–º–∞ —Ç–∞–∫–∞–≤–∞, –∑–∞ –¥–∞ –Ω–µ –æ–±—ä—Ä–∫–∞–º–µ path.join
    const cleanPath = filePath.startsWith('/') ? filePath.slice(1) : filePath;
    const absolutePath = path.join(process.cwd(), 'public', cleanPath);

    if (!existsSync(absolutePath)) {
      console.error(`–§–∞–π–ª—ä—Ç –Ω–µ –µ –Ω–∞–º–µ—Ä–µ–Ω –Ω–∞ –¥–∏—Å–∫–∞: ${absolutePath}`);
      return new NextResponse('File not found', { status: 404 });
    }

    const fileBuffer = await readFile(absolutePath);
    const ext = path.extname(cleanPath).toLowerCase();
    const contentType = ext === '.png' ? 'image/png' : 'image/jpeg';

    return new NextResponse(fileBuffer, {
      headers: {
        'Content-Type': contentType,
        'Cache-Control': 'public, max-age=31536000, immutable',
      },
    });
  } catch (error) {
    console.error("–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —á–µ—Ç–µ–Ω–µ –Ω–∞ —Ñ–∞–π–ª:", error);
    return new NextResponse('Error reading file', { status: 500 });
  }
}
--- END OF FILE: src/app/api/files/route.ts ---

--- START OF FILE: src/app/api/send/route.ts ---
import { Resend } from 'resend';
import { NextResponse } from 'next/server';
import { prisma } from "@/lib/prisma";

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–º–µ Resend
const resendApiKey = process.env.RESEND_API_KEY;
const resend = resendApiKey ? new Resend(resendApiKey) : null;

export async function POST(request: Request) {
  try {
    if (!resend) {
      console.error("–ì–†–ï–®–ö–ê: RESEND_API_KEY –ª–∏–ø—Å–≤–∞ –≤ –æ–±–∫—Ä—ä–∂–µ–Ω–∏–µ—Ç–æ.");
      return NextResponse.json({ error: '–ò–º–µ–π–ª —É—Å–ª—É–≥–∞—Ç–∞ –Ω–µ –µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–∞' }, { status: 500 });
    }

    const body = await request.json();
    const { 
      fullName, email, phone, makeModel, carLink, 
      year, vin, date, time, notes, packageName, packagePrice 
    } = body;

    // 1. –ó–ê–ü–ò–° –í POSTGRESQL –ë–ê–ó–ê–¢–ê
    try {
      await prisma.booking.create({
        data: {
          pkgName: packageName || "Standard",
          date: date || "",
          time: time || "",
          fullName: fullName || "–ê–Ω–æ–Ω–∏–º–µ–Ω",
          phone: phone || "",
          email: email || "",
          makeModel: makeModel || "",
          year: year || "",
          vin: vin || "",
          notes: notes || "",
          status: "new"
        }
      });
      console.log("–£—Å–ø–µ—à–µ–Ω –∑–∞–ø–∏—Å –Ω–∞ –∑–∞—è–≤–∫–∞—Ç–∞ –≤ –±–∞–∑–∞—Ç–∞.");
    } catch (dbErr) {
      console.error("–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å –≤ –±–∞–∑–∞—Ç–∞:", dbErr);
      // –ü—Ä–æ–¥—ä–ª–∂–∞–≤–∞–º–µ —Å –∏–º–µ–π–ª–∞, –¥–æ—Ä–∏ –∞–∫–æ –±–∞–∑–∞—Ç–∞ —Å–µ –ø—Ä–æ–≤–∞–ª–∏
    }

    // 2. –ò–ó–ü–†–ê–©–ê–ù–ï –ù–ê –ò–ú–ï–ô–õ –î–û –ê–î–ú–ò–ù (–ú–∞—Ä—Ç–∏–Ω)
    const adminEmail = await resend.emails.send({
      from: 'FileVerified <info@fileverified.eu>',
      to: ['martin.filev@gmail.com'],
      replyTo: email || undefined,
      subject: `–ù–æ–≤–∞ —Ä–µ–∑–µ—Ä–≤–∞—Ü–∏—è: ${makeModel} - ${fullName}`,
      html: `
        <div style="font-family: sans-serif; padding: 20px;">
          <h2 style="color: #059669;">–ù–æ–≤–∞ –∑–∞—è–≤–∫–∞ –æ—Ç —Å–∞–π—Ç–∞</h2>
          <p><strong>–ö–ª–∏–µ–Ω—Ç:</strong> ${fullName}</p>
          <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> ${phone}</p>
          <p><strong>–ö–æ–ª–∞:</strong> ${makeModel}</p>
          <p><strong>–ü–∞–∫–µ—Ç:</strong> ${packageName} (${packagePrice})</p>
          <p><strong>–î–∞—Ç–∞/–ß–∞—Å:</strong> ${date} –≤ ${time} —á.</p>
          <hr />
          <p><strong>–õ–∏–Ω–∫:</strong> <a href="${carLink}">${carLink}</a></p>
          <p><strong>–ë–µ–ª–µ–∂–∫–∏:</strong> ${notes || '–ù—è–º–∞'}</p>
        </div>
      `
    });

    if (adminEmail.error) {
      console.error("–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –∏–º–µ–π–ª:", adminEmail.error);
    }

    return NextResponse.json({ success: true });
  } catch (error: any) {
    console.error("–ö—Ä–∏—Ç–∏—á–Ω–∞ –≥—Ä–µ—à–∫–∞ –≤ API Route:", error);
    return NextResponse.json({ error: '–°—ä—Ä–≤—ä—Ä–Ω–∞ –≥—Ä–µ—à–∫–∞' }, { status: 500 });
  }
}
--- END OF FILE: src/app/api/send/route.ts ---

--- START OF FILE: src/app/api/upload/route.ts ---
import { NextRequest, NextResponse } from "next/server";
import { writeFile, mkdir } from "fs/promises";
import { join } from "path";
import { existsSync } from "fs";

export async function POST(req: NextRequest) {
  try {
    const formData = await req.formData();
    const slug = formData.get("slug") as string;
    const files = formData.getAll("files") as File[];

    if (!slug || files.length === 0) {
      return NextResponse.json({ error: "–õ–∏–ø—Å–≤–∞ slug –∏–ª–∏ —Ñ–∞–π–ª–æ–≤–µ" }, { status: 400 });
    }

    // –ü—ä—Ç—è—Ç –¥–æ –ø–∞–ø–∫–∞—Ç–∞ –Ω–∞ –¥–∏—Å–∫–∞
    const uploadDir = join(process.cwd(), "public", "uploads", slug);
    
    // –°—ä–∑–¥–∞–≤–∞–º–µ –ø–∞–ø–∫–∞—Ç–∞, –∞–∫–æ –Ω–µ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞
    if (!existsSync(uploadDir)) {
      await mkdir(uploadDir, { recursive: true });
    }

    const savedPaths = [];

    for (const file of files) {
      const bytes = await file.arrayBuffer();
      const buffer = Buffer.from(bytes);
      
      // –ü–æ—á–∏—Å—Ç–≤–∞–º–µ –∏–º–µ—Ç–æ –Ω–∞ —Ñ–∞–π–ª–∞ –æ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏
      const fileName = `${Date.now()}-${file.name.replace(/\s+/g, "-")}`;
      const pathOnDisk = join(uploadDir, fileName);
      
      await writeFile(pathOnDisk, buffer);
      
      // –í–ê–ñ–ù–û: –ó–∞–ø–∏—Å–≤–∞–º–µ –ø—ä—Ç—è —Å 'uploads/', –∑–∞ –¥–∞ —Å—ä–≤–ø–∞–¥–∞ —Å –æ—á–∞–∫–≤–∞–Ω–∏—è—Ç–∞ –Ω–∞ api/files
      savedPaths.push(`uploads/${slug}/${fileName}`);
    }

    return NextResponse.json({ paths: savedPaths });
  } catch (error) {
    console.error("–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∫–∞—á–≤–∞–Ω–µ:", error);
    return NextResponse.json({ error: "–°—ä—Ä–≤—ä—Ä–Ω–∞ –≥—Ä–µ—à–∫–∞ –ø—Ä–∏ –∫–∞—á–≤–∞–Ω–µ" }, { status: 500 });
  }
}
--- END OF FILE: src/app/api/upload/route.ts ---

--- START OF FILE: src/app/api/reports/route.ts ---
import { prisma } from "@/lib/prisma";
import { NextResponse } from "next/server";

export async function GET() {
  try {
    const reports = await prisma.report.findMany({ orderBy: { createdAt: 'desc' } });
    return NextResponse.json(reports);
  } catch (error) {
    return NextResponse.json({ error: "–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —á–µ—Ç–µ–Ω–µ" }, { status: 500 });
  }
}

export async function POST(request: Request) {
  try {
    const body = await request.json();
    // –í–∑–∏–º–∞–º–µ —Å–∞–º–æ –ø–æ–ª–µ—Ç–∞—Ç–∞, –∫–æ–∏—Ç–æ —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç –≤ schema.prisma
    const report = await prisma.report.create({
      data: {
        slug: body.slug,
        carModel: body.carModel,
        clientName: body.clientName,
        jsonData: body.jsonData,
        isPublished: body.isPublished || false
      }
    });
    return NextResponse.json(report);
  } catch (error: any) {
    console.error("API POST ERROR:", error);
    return NextResponse.json({ error: error.message || "–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ —Å—ä–∑–¥–∞–≤–∞–Ω–µ" }, { status: 400 });
  }
}

export async function PUT(request: Request) {
  try {
    const body = await request.json();
    const { id, slug, carModel, clientName, jsonData, isPublished } = body;

    const report = await prisma.report.update({
      where: { id: id },
      data: {
        slug,
        carModel,
        clientName,
        jsonData,
        isPublished
      }
    });
    return NextResponse.json(report);
  } catch (error: any) {
    console.error("API PUT ERROR:", error);
    return NextResponse.json({ error: error.message || "–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤—è–≤–∞–Ω–µ" }, { status: 500 });
  }
}

export async function DELETE(request: Request) {
  try {
    const { searchParams } = new URL(request.url);
    const id = searchParams.get("id");
    if (!id) return NextResponse.json({ error: "–õ–∏–ø—Å–≤–∞ ID" }, { status: 400 });
    
    await prisma.report.delete({ where: { id } });
    return NextResponse.json({ success: true });
  } catch (error) {
    return NextResponse.json({ error: "–ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ" }, { status: 500 });
  }
}
--- END OF FILE: src/app/api/reports/route.ts ---

--- START OF FILE: src/app/api/reports/[slug]/route.ts ---
import { prisma } from "@/lib/prisma";
import { NextResponse } from "next/server";

export async function GET(
  request: Request,
  { params }: { params: Promise<{ slug: string }> }
) {
  try {
    const { slug } = await params;

    const report = await prisma.report.findFirst({
      where: { 
        slug: slug,
        isPublished: true 
      }
    });

    if (!report) {
      return NextResponse.json({ error: "Report not found" }, { status: 404 });
    }

    // –í—Ä—ä—â–∞–º–µ –æ–±–µ–∫—Ç–∞, –∫–∞—Ç–æ –ø–∞—Ä—Å–≤–∞–º–µ jsonData –¥–∏—Ä–µ–∫—Ç–Ω–æ —Ç—É–∫
    return NextResponse.json({
      ...report,
      data: JSON.parse(report.jsonData)
    });
  } catch (error) {
    console.error("API Error:", error);
    return NextResponse.json({ error: "Server error" }, { status: 500 });
  }
}
--- END OF FILE: src/app/api/reports/[slug]/route.ts ---

--- START OF FILE: src/app/report/page.tsx ---
"use client"

import { useState } from "react"
import Link from "next/link"
import GallerySection from "../../components/GallerySection"
import { 
  CheckCircle2, 
  AlertTriangle, 
  ShieldCheck, 
  Gauge, 
  Car, 
  ClipboardList, 
  Activity, 
  Zap, 
  Search,
  Eye,
  Wrench,
  Stethoscope,
  Thermometer,
  Droplets,
  Wind,
  Layers,
  Cpu,
  ChevronDown,
  ChevronUp,
  History,
  Lightbulb
} from "lucide-react"

export default function ReportPage() {
  // –ú–∞—Å–∏–≤ —Å—ä—Å —Å–Ω–∏–º–∫–∏ - –¥–µ—Ñ–∏–Ω–∏—Ä–∞–Ω —Ç—É–∫, –∑–∞ –¥–∞ –∏–∑–±–µ–≥–Ω–µ–º –≥—Ä–µ—à–∫–∏ —Å —Ñ–∞–π–ª–æ–≤–∞—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –≤ –±—Ä–∞—É–∑—ä—Ä–∞
  const imageFiles = Array.from({ length: 24 }, (_, i) => `/images/sample-report/${i + 1}.jpg`);

  return (
    <main className="min-h-screen bg-slate-50 pb-20">
      {/* HEADER –°–™–° –°–¢–ê–¢–£–° */}
      <div className="bg-white border-b px-6 py-10 shadow-sm">
        <div className="max-w-7xl mx-auto flex flex-col md:flex-row md:items-center justify-between gap-8">
          <div>
            <div className="flex items-center gap-2 text-emerald-700 font-bold mb-3 tracking-wide">
              <ShieldCheck className="w-6 h-6" />
              <span className="text-sm uppercase tracking-widest">–ò–ù–°–ü–ï–ö–¶–ò–û–ù–ï–ù –î–û–ö–õ–ê–î #20260109-GT3</span>
            </div>
            <h1 className="text-4xl font-extrabold text-slate-900 leading-tight">
              Porsche 911 GT3 (992)
            </h1>
            <div className="flex items-center gap-4 mt-3 text-slate-500">
              <span className="flex items-center gap-1.5 font-medium"><Search className="w-4 h-4"/> –°–æ—Ñ–∏—è, –ë—ä–ª–≥–∞—Ä–∏—è</span>
              <span className="w-1.5 h-1.5 rounded-full bg-slate-300"></span>
              <span className="font-medium underline decoration-emerald-500 underline-offset-4">VIN: WP0ZZZ99ZNS2*****</span>
            </div>
          </div>
          
          <div className="bg-emerald-50 border-2 border-emerald-100 rounded-3xl p-6 flex items-center gap-5">
            <div className="bg-emerald-500 text-white p-3 rounded-2xl shadow-md">
              <CheckCircle2 className="w-8 h-8" />
            </div>
            <div>
              <div className="text-xs text-emerald-700 font-bold uppercase tracking-wider mb-1">–§–∏–Ω–∞–ª–µ–Ω —Å—Ç–∞—Ç—É—Å</div>
              <div className="text-2xl font-black text-emerald-900 uppercase">–ü–†–ï–ü–û–†–™–ß–ê–ù</div>
            </div>
          </div>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-6 mt-12 space-y-12">
        
        {/* –ö–õ–Æ–ß–û–í–ò –•–ê–†–ê–ö–¢–ï–†–ò–°–¢–ò–ö–ò */}
        <div className="grid grid-cols-2 md:grid-cols-4 gap-5">
          <InfoCard icon={<Zap className="w-5 h-5"/>} label="–ú–æ—â–Ω–æ—Å—Ç" value="375 kW / 510 –∫.—Å." />
          <InfoCard icon={<Gauge className="w-5 h-5"/>} label="–ü—Ä–æ–±–µ–≥" value="12,450 –∫–º" />
          <InfoCard icon={<Car className="w-5 h-5"/>} label="–ì–æ–¥–∏–Ω–∞" value="05/2023" />
          <InfoCard icon={<Activity className="w-5 h-5"/>} label="–¢—Ä–∞–Ω—Å–º–∏—Å–∏—è" value="PDK 7-speed" />
        </div>

        {/* –ì–ê–õ–ï–†–ò–Ø */}
        <div className="bg-white rounded-[2rem] border p-2 shadow-xl shadow-slate-200/50">
          <div className="p-6 font-bold text-slate-900 border-b flex items-center justify-between">
            <span className="flex items-center gap-2"><Eye className="w-5 h-5 text-emerald-600"/> –§–æ—Ç–æ–¥–æ–∫–ª–∞–¥ ({imageFiles.length} —Å–Ω–∏–º–∫–∏)</span>
          </div>
          <GallerySection images={imageFiles} />
        </div>

        {/* –î–ï–¢–ê–ô–õ–ù–ê –ü–†–û–í–ï–†–ö–ê –ü–û –°–ï–ö–¶–ò–ò */}
        <div className="grid lg:grid-cols-2 gap-8">
          
          {/* –°–ï–ö–¶–ò–Ø 1: –ò–ù–§–û–†–ú–ê–¶–ò–Ø –ó–ê –ê–í–¢–û–ú–û–ë–ò–õ–ê */}
          <SectionCard title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∞ (Vehicle Info)" icon={<Car className="w-6 h-6 text-emerald-600"/>}>
            <CheckItem text="–ú–∞—Ä–∫–∞ –∏ –ú–æ–¥–µ–ª" status="ok" info="Porsche 911 GT3 (992)" />
            <CheckItem text="–ì–æ–¥–∏–Ω–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ" status="ok" info="2023" />
            <CheckItem text="–ü—Ä–æ–±–µ–≥" status="ok" info="12,450 –∫–º" />
            <CheckItem text="Safety Recalls (–°–µ—Ä–≤–∏–∑–Ω–∏ –∞–∫—Ü–∏–∏)" status="ok" info="–ù—è–º–∞ –∞–∫—Ç–∏–≤–Ω–∏" />
            <CheckItem text="VIN –Ω–æ–º–µ—Ä" status="ok" info="WP0ZZZ99ZNS2*****" />
            <CheckItem text="–¢–∏–ø –¥–≤–∏–≥–∞—Ç–µ–ª / –ë—Ä–æ–π —Ü–∏–ª–∏–Ω–¥—Ä–∏" status="ok" info="Boxer-6 / 4.0L" />
            <CheckItem text="–¢—Ä–∞–Ω—Å–º–∏—Å–∏—è (—Ç–∏–ø/–ø—Ä–µ–¥–∞–≤–∫–∏)" status="ok" info="PDK / 7-speed" />
            <CheckItem text="–ó–∞–¥–≤–∏–∂–≤–∞–Ω–µ (Drive Type)" status="ok" info="RWD" />
            <CheckItem text="–ì–æ—Ä–∏–≤–æ (Fuel Type)" status="ok" info="Petrol / 100 Octane" />
            <CheckItem text="–¶–≤—è—Ç –Ω–∞ –∫—É–ø–µ—Ç–æ (Body Color)" status="ok" info="Shark Blue" />
            <CheckItem text="–ò–Ω—Ç–µ—Ä–∏–æ—Ä (–ú–∞—Ç–µ—Ä–∏–∞–ª –∏ —Ü–≤—è—Ç)" status="ok" info="Alcantara / Black" />
          </SectionCard>

          {/* –°–ï–ö–¶–ò–Ø 2: –ï–ö–°–¢–ï–†–ò–û–† –ò –ë–û–Ø */}
          <SectionCard title="–ï–∫—Å—Ç–µ—Ä–∏–æ—Ä –∏ –ö–∞—Ä–æ—Å–µ—Ä–∏—è" icon={<ShieldCheck className="w-6 h-6 text-emerald-600"/>}>
            <ExpandableCheckItem 
              text="–î–µ–±–µ–ª–∏–Ω–∞ –Ω–∞ –±–æ—è—Ç–∞ (Micron Measurement)" 
              status="ok" 
              info="95-115 Œºm"
              details={[
                { label: "–ü—Ä–µ–¥–µ–Ω –∫–∞–ø–∞–∫", value: "102 Œºm" },
                { label: "–ö–∞–ª–Ω–∏—Ü–∏ (L/R)", value: "98 / 105 Œºm" },
                { label: "–í—Ä–∞—Ç–∏ (L/R)", value: "110 / 108 Œºm" },
                { label: "A/B –ö–æ–ª–æ–Ω–∏", value: "95 / 65 Œºm" },
                { label: "–¢–∞–≤–∞–Ω", value: "100 Œºm" },
                { label: "–ó–∞–¥–µ–Ω –∫–∞–ª–Ω–∏–∫ (L/R)", value: "112 / 115 Œºm" },
                { label: "–ü—Ä–∞–≥–æ–≤–µ (L/R)", value: "92 / 94 Œºm" },
              ]}
            />
            <CheckItem text="–¢–æ—á–∫–∏ –∑–∞ –≤–¥–∏–≥–∞–Ω–µ —Å –∫—Ä–∏–∫ (–°—Ç—Ä—É–∫—Ç—É—Ä–∞)" status="ok" />
            <CheckItem text="–¢–µ—Å—Ç –Ω–∞ –µ–ª. —Ä–µ–≥—É–ª–∏—Ä–∞–Ω–µ –Ω–∞ —Ñ–∞—Ä–æ–≤–µ" status="ok" />
            <CheckItem text="–°—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –ª–∞–∫–∞ (Scratches/Dents)" status="ok" />
            <CheckItem text="–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ö–∏—Ç/–†—ä–∂–¥–∞)" status="ok" />
            <CheckItem text="–ì–µ–æ–º–µ—Ç—Ä–∏—è –Ω–∞ –ø–∞–Ω–µ–ª–∏ –∏ —Ñ—É–≥–∏" status="ok" />
            <CheckItem text="–°—Ç—ä–∫–ª–∞ –∏ —Ñ–∞—Ä–æ–≤–µ (–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∏)" status="ok" />
          </SectionCard>

          {/* –°–ï–ö–¶–ò–Ø 3: –î–í–ò–ì–ê–¢–ï–õ –ò –ú–ï–•–ê–ù–ò–ö–ê */}
          <SectionCard title="–î–≤–∏–≥–∞—Ç–µ–ª –∏ –ú–µ—Ö–∞–Ω–∏–∫–∞" icon={<Wrench className="w-6 h-6 text-emerald-600"/>}>
            <CheckItem text="–¢–µ—á–æ–≤–µ –Ω–∞ —Ç–µ—á–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å–ª–µ–Ω–∏ –ø–∞—Ä–∏" status="ok" />
            <CheckItem text="–õ–µ–ø–µ–Ω–∫–∞/–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –∑–∞ –∞–Ω–≥—Ä–µ–Ω–∞–∂" status="ok" info="–ù–∞–ª–∏—á–Ω–∞" />
            <CheckItem text="–ù–∏–≤–æ –∏ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –º–∞—Å–ª–æ" status="ok" />
            <CheckItem text="–°–ø–∏—Ä–∞—á–Ω–∞ —Ç–µ—á–Ω–æ—Å—Ç (–¢–µ—Å—Ç –∑–∞ –≤–ª–∞–≥–∞)" status="ok" info="0.5% (Perfect)" />
            <CheckItem text="–ê–∫—É–º—É–ª–∞—Ç–æ—Ä –∏ –∞–ª—Ç–µ—Ä–Ω–∞—Ç–æ—Ä (–ó–∞—Ä–µ–∂–¥–∞–Ω–µ)" status="ok" />
            <CheckItem text="–°—Ç–∞—Ç—É—Å —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è DPF / –ï–º–∏—Å–∏–∏" status="ok" info="Clean" />
          </SectionCard>

          {/* –°–ï–ö–¶–ò–Ø 4: –ò–ù–¢–ï–†–ò–û–† –ò –ï–õ–ï–ö–¢–†–û–ù–ò–ö–ê */}
          <SectionCard title="–ò–Ω—Ç–µ—Ä–∏–æ—Ä –∏ –ï–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞" icon={<ClipboardList className="w-6 h-6 text-emerald-600"/>}>
            <CheckItem text="–ò–∑–Ω–æ—Å–≤–∞–Ω–µ (–°–µ–¥–∞–ª–∫–∏, –í–æ–ª–∞–Ω, –ü–µ–¥–∞–ª–∏)" status="ok" />
            <CheckItem text="–í–ª–∞–≥–∞ –ø–æ–¥ –º–æ–∫–µ—Ç–∞ / –ù–∏—à–∞ –∑–∞ –≥—É–º–∞" status="ok" info="Dry" />
            <CheckItem text="–ò–Ω–¥–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Ç–∞–±–ª–æ—Ç–æ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–Ω–∏ —É—Ä–µ–¥–∏" status="ok" />
            <CheckItem text="–ú—É–ª—Ç–∏–º–µ–¥–∏—è, –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –°–≤—ä—Ä–∑–∞–Ω–æ—Å—Ç" status="ok" />
            <CheckItem text="–ö–ª–∏–º–∞—Ç–∏–∑–∞—Ü–∏—è (–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –¥—é–∑–∏)" status="ok" info="4.2¬∞C" />
            <CheckItem text="–û–±—â–∞ —á–∏—Å—Ç–æ—Ç–∞ –∏ –Ω–∞–ª–∏—á–∏–µ –Ω–∞ –º–∏—Ä–∏–∑–º–∏" status="ok" />
          </SectionCard>

          {/* –°–ï–ö–¶–ò–Ø 5: –ì–£–ú–ò –ò –•–û–î–û–í–ê –ß–ê–°–¢ */}
          <SectionCard title="–ì—É–º–∏, –î–∂–∞–Ω—Ç–∏ –∏ –•–æ–¥–æ–≤–∞ —á–∞—Å—Ç" icon={<Layers className="w-6 h-6 text-emerald-600"/>}>
            <ExpandableCheckItem 
              text="–ì—É–º–∏ (–ú–∞—Ä–∫–∞, DOT –∏ –ì—Ä–∞–π—Ñ–µ—Ä)" 
              status="ok" 
              info="Michelin / 2023"
              details={[
                { label: "–ü—Ä–µ–¥–Ω–∞ –ª—è–≤–∞", value: "Michelin PS4S / DOT 1223 / 6.5mm" },
                { label: "–ü—Ä–µ–¥–Ω–∞ –¥—è—Å–Ω–∞", value: "Michelin PS4S / DOT 1223 / 6.5mm" },
                { label: "–ó–∞–¥–Ω–∞ –ª—è–≤–∞", value: "Michelin PS4S / DOT 1523 / 6.2mm" },
                { label: "–ó–∞–¥–Ω–∞ –¥—è—Å–Ω–∞", value: "Michelin PS4S / DOT 1523 / 6.2mm" },
                { label: "–†–µ–∑–µ—Ä–≤–Ω–∞ –≥—É–º–∞ / –ö–æ–º–ø–ª–µ–∫—Ç", value: "–ö–æ–º–ø–ª–µ–∫—Ç –∑–∞ —Ä–µ–º–æ–Ω—Ç (OK)" },
              ]}
            />
            <CheckItem text="–ö–æ–Ω—Ç–∞–∫—Ç–Ω–æ –ø–µ—Ç–Ω–æ –Ω–∞ –¥–∏—Å–∫–æ–≤–µ—Ç–µ (Tragbild)" status="ok" />
            <CheckItem text="–î–∂–∞–Ω—Ç–∏ (–ö—Ä–∏–≤–∏–Ω–∏ –∏ –æ–∂—É–ª–≤–∞–Ω–∏—è)" status="warning" info="–õ–µ–∫–æ –ø—Ä–µ–¥–Ω–∞ –¥—è—Å–Ω–∞" />
            <CheckItem text="–û–∫–∞—á–≤–∞–Ω–µ (–ê–º–æ—Ä—Ç–∏—Å—å–æ—Ä–∏, –¢–∞–º–ø–æ–Ω–∏)" status="ok" />
            <CheckItem text="–†–∞–º–∞ –∏ —Ç–æ—á–∫–∏ –Ω–∞ –∑–∞–∫—Ä–µ–ø–≤–∞–Ω–µ" status="ok" />
          </SectionCard>

          {/* –°–ï–ö–¶–ò–Ø 6: –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê */}
          <SectionCard title="–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ü—ä—Ç–µ–Ω –¢–µ—Å—Ç" icon={<Cpu className="w-6 h-6 text-emerald-600"/>}>
            <CheckItem text="OBD II - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –≥—Ä–µ—à–∫–∏ (DTC)" status="ok" />
            <CheckItem text="–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ —Ä–µ–∞–ª–Ω–∏ –∫–∏–ª–æ–º–µ—Ç—Ä–∏" status="ok" />
            <CheckItem text="TPMS - –î–∞—Ç—á–∏—Ü–∏ –Ω–∞–ª—è–≥–∞–Ω–µ" status="ok" />
            <CheckItem text="–°—Ç—É–¥–µ–Ω —Å—Ç–∞—Ä—Ç –∏ –ø—Ä–∞–∑–µ–Ω —Ö–æ–¥" status="ok" />
            <CheckItem text="–ü—Ä–µ–≤–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ (Smoothness)" status="ok" />
            <CheckItem text="–°–ø–∏—Ä–∞–Ω–µ (–ª–∏–ø—Å–∞ –Ω–∞ –≤–∏–±—Ä–∞—Ü–∏–∏)" status="ok" />
            <CheckItem text="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Å—Ç–∞–±–∏–ª–Ω–æ—Å—Ç (–î—ä—Ä–ø–∞–Ω–µ)" status="ok" />
          </SectionCard>

        </div>

        {/* –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï */}
        <div className="bg-slate-900 text-white rounded-[2.5rem] p-10 md:p-16 shadow-2xl relative overflow-hidden">
          <div className="relative z-10 grid md:grid-cols-2 gap-10 items-center">
            <div>
              <h2 className="text-3xl font-bold mb-6 italic">–û–±–æ–±—â–µ–Ω–∏–µ –æ—Ç –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–∞</h2>
              <p className="text-slate-300 text-lg leading-relaxed mb-6">
                –ê–≤—Ç–æ–º–æ–±–∏–ª—ä—Ç –ø—Ä–µ–º–∏–Ω–∞ –ø—ä–ª–Ω–∞ –∏–Ω—Å–ø–µ–∫—Ü–∏—è –ø–æ –≥–µ—Ä–º–∞–Ω—Å–∫–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ –∑–¥—Ä–∞–≤–∏ —Ç–æ—á–∫–∏ –∑–∞ –ø–æ–≤–¥–∏–≥–∞–Ω–µ, –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ –ø–µ—Ç–Ω–æ –Ω–∞ —Å–ø–∏—Ä–∞—á–∫–∏—Ç–µ –∏ –ª–∏–ø—Å–∞ –Ω–∞ –≤–ª–∞–≥–∞ –≤ –∫—Ä–∏—Ç–∏—á–Ω–∏—Ç–µ –∑–æ–Ω–∏. –í—Å–∏—á–∫–∏ —Å–∏—Å—Ç–µ–º–∏ —Ä–∞–±–æ—Ç—è—Ç –±–µ–∑—É–ø—Ä–µ—á–Ω–æ.
              </p>
              <div className="flex items-center gap-4 border-t border-white/10 pt-6">
                <div className="w-12 h-12 rounded-full bg-emerald-500 flex items-center justify-center font-bold text-xl">F</div>
                <div>
                  <div className="font-bold">–ì–ª–∞–≤–µ–Ω –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä</div>
                  <div className="text-sm text-slate-400">–ï–∫–∏–ø—ä—Ç –Ω–∞ FileVerified</div>
                </div>
              </div>
            </div>
            <div className="space-y-4">
               <div className="bg-white/5 rounded-2xl p-6 border border-white/10">
                  <div className="text-emerald-400 font-bold mb-2 uppercase text-xs">–ó–∞—â–æ –¥–∞ –≥–æ –∫—É–ø–∏—Ç–µ?</div>
                  <p className="text-sm text-slate-300">–ì–∞—Ä–∞–Ω—Ç–∏—Ä–∞–Ω –ø—Ä–æ–∏–∑—Ö–æ–¥, –æ—Ç–ª–∏—á–Ω–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ —Å–ø–∏—Ä–∞—á–∫–∏—Ç–µ –∏ –≥—É–º–∏—Ç–µ, –±–µ–∑—É–ø—Ä–µ—á–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ä–µ–∞–ª–Ω–∏ –¥–∞–Ω–Ω–∏ –æ—Ç –≤—Å–∏—á–∫–∏ –º–æ–¥—É–ª–∏.</p>
               </div>
               <Link href="/book" className="block w-full bg-emerald-500 hover:bg-emerald-400 text-white text-center py-5 rounded-2xl font-black text-xl transition-all shadow-xl shadow-emerald-500/20">
                –ó–ê–Ø–í–ò –ü–†–û–í–ï–†–ö–ê –ó–ê –¢–í–û–Ø –ö–û–õ–ê
              </Link>
            </div>
          </div>
        </div>
      </div>
    </main>
  )
}

// –£–ù–ò–í–ï–†–°–ê–õ–ï–ù –ö–û–ú–ü–û–ù–ï–ù–¢: –ü–∞–¥–∞—â–æ –º–µ–Ω—é –∑–∞ –¥–µ—Ç–∞–π–ª–∏
function ExpandableCheckItem({ text, status, info, details }: { 
  text: string, 
  status: 'ok' | 'warning' | 'error', 
  info?: string,
  details: { label: string, value: string }[] 
}) {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <div className="border-b border-slate-50 pb-2">
      <div 
        className="flex items-center justify-between cursor-pointer hover:bg-slate-50/50 p-1 rounded-lg transition-colors group"
        onClick={() => setIsOpen(!isOpen)}
      >
        <div className="flex items-center gap-3">
          {status === 'ok' ? <CheckCircle2 className="w-5 h-5 text-emerald-500 shrink-0" /> : <AlertTriangle className="w-5 h-5 text-amber-500 shrink-0" />}
          <span className="text-slate-700 font-bold text-sm md:text-base group-hover:text-slate-900">{text}</span>
          {isOpen ? <ChevronUp className="w-4 h-4 text-slate-400" /> : <ChevronDown className="w-4 h-4 text-slate-400" />}
        </div>
        {info && (
          <span className="text-[11px] font-bold bg-emerald-50 text-emerald-700 px-2 py-1 rounded uppercase tracking-tighter">
            {info}
          </span>
        )}
      </div>
      
      {isOpen && (
        <div className="mt-3 ml-8 space-y-2 bg-slate-50/80 backdrop-blur-sm rounded-2xl p-4 border border-slate-100 shadow-inner">
          {details.map((item, idx) => (
            <div key={idx} className="flex flex-col md:flex-row md:justify-between text-xs md:text-sm border-b border-slate-200/50 pb-1.5 last:border-0 gap-1">
              <span className="text-slate-500 font-medium">{item.label}</span>
              <span className="text-slate-900 font-mono font-bold">{item.value}</span>
            </div>
          ))}
        </div>
      )}
    </div>
  )
}

function SectionCard({ title, icon, children }: { title: string, icon: React.ReactNode, children: React.ReactNode }) {
  return (
    <div className="bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden transition-all hover:shadow-md">
      <div className="p-6 border-b flex items-center gap-3 bg-slate-50/50">
        {icon}
        <h3 className="text-lg font-bold text-slate-900">{title}</h3>
      </div>
      <div className="p-6 space-y-4">{children}</div>
    </div>
  )
}

function CheckItem({ text, status, info }: { text: string, status: 'ok' | 'warning' | 'error', info?: string }) {
  return (
    <div className="flex items-center justify-between border-b border-slate-50 pb-2">
      <div className="flex items-center gap-3">
        {status === 'ok' ? <CheckCircle2 className="w-5 h-5 text-emerald-500 shrink-0" /> : <AlertTriangle className="w-5 h-5 text-amber-500 shrink-0" />}
        <span className="text-slate-700 font-medium text-sm md:text-base">{text}</span>
      </div>
      {info && <span className="text-[11px] font-bold bg-slate-100 text-slate-600 px-2 py-1 rounded uppercase tracking-tighter">{info}</span>}
    </div>
  )
}

function InfoCard({ icon, label, value }: { icon: React.ReactNode, label: string, value: string }) {
  return (
    <div className="bg-white p-6 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-4">
      <div className="text-emerald-600 bg-emerald-50 p-3 rounded-2xl">{icon}</div>
      <div>
        <div className="text-[10px] text-slate-400 uppercase font-black tracking-widest">{label}</div>
        <div className="text-slate-900 font-bold text-lg">{value}</div>
      </div>
    </div>
  )
}
--- END OF FILE: src/app/report/page.tsx ---

--- START OF FILE: src/app/report/[slug]/page.tsx ---
"use client"

import { useState, useEffect, use } from "react"
import { 
  CheckCircle2, 
  ShieldCheck, 
  Gauge, 
  Search,
  Eye,
  Cpu,
  ChevronDown,
  ChevronUp,
  Zap,
  Calendar,
  Fingerprint,
  Activity,
  Fuel,
  Settings2,
  Disc,
  CarFront,
  AlertTriangle,
  Info,
  MapPin
} from "lucide-react"
import GallerySection from "@/components/GallerySection"
import { cloneElement } from "react"

export default function PublicReport({ params }: { params: Promise<{ slug: string }> }) {
  const { slug } = use(params);
  const [report, setReport] = useState<any>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(false);

  useEffect(() => {
    fetch(`/api/reports/${slug}`)
      .then(res => {
        if (!res.ok) throw new Error();
        return res.json();
      })
      .then(data => {
        setReport(data);
        setLoading(false);
      })
      .catch(() => {
        setError(true);
        setLoading(false);
      });
  }, [slug]);

  if (loading) return (
    <div className="min-h-screen flex flex-col items-center justify-center bg-white">
      <div className="w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4"></div>
      <div className="font-black text-slate-300 tracking-[0.3em] uppercase italic animate-pulse">FileVerified –ê–Ω–∞–ª–∏–∑...</div>
    </div>
  );

  if (error || !report) return (
    <div className="min-h-screen flex flex-col items-center justify-center bg-slate-50 p-6 text-center">
        <AlertTriangle size={64} className="text-rose-500 mb-4" />
        <h1 className="text-2xl font-black text-rose-500 uppercase tracking-tighter">
            –î–æ–∫–ª–∞–¥—ä—Ç –Ω–µ –µ –Ω–∞–º–µ—Ä–µ–Ω –∏–ª–∏ –Ω–µ –µ –ø—É–±–ª–∏–∫—É–≤–∞–Ω –∑–∞ –ø—É–±–ª–∏—á–µ–Ω –¥–æ—Å—Ç—ä–ø.
        </h1>
        <p className="text-slate-500 mt-2 font-bold">–°–≤—ä—Ä–∂–µ—Ç–µ —Å–µ —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –∞–∫–æ —Å–º—è—Ç–∞—Ç–µ, —á–µ —Ç–æ–≤–∞ –µ –≥—Ä–µ—à–∫–∞.</p>
        <a href="/" className="mt-8 bg-slate-900 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs tracking-widest">–ö—ä–º –Ω–∞—á–∞–ª–æ—Ç–æ</a>
    </div>
  );

  const formattedImages = (report.data.images || []).map((img: string) => `/api/files?path=${img}`);
  const isExcellent = report.data.finalVerdict?.toLowerCase().includes('–æ—Ç–ª–∏—á') || report.data.finalVerdict?.toLowerCase().includes('–±–µ–∑ –∑–∞–±–µ–ª–µ–∂');

  return (
    <main className="min-h-screen bg-[#F1F5F9] pb-20 font-sans text-slate-900 selection:bg-blue-100">
      <div className="bg-white border-b border-slate-200 px-6 py-12 md:py-20 shadow-sm relative overflow-hidden">
        <div className="absolute top-0 right-0 p-10 opacity-[0.03] pointer-events-none"><ShieldCheck size={400} /></div>
        <div className="max-w-7xl mx-auto flex flex-col lg:flex-row lg:items-end justify-between gap-10 relative z-10">
          <div className="space-y-6">
            <div className="flex items-center gap-3 text-blue-700 font-black mb-3 tracking-wide bg-blue-50 w-fit px-4 py-1.5 rounded-full border border-blue-100">
              <ShieldCheck className="w-5 h-5" /><span className="text-[10px] uppercase tracking-[0.2em]">Independent Inspection Report</span>
            </div>
            <h1 className="text-5xl md:text-8xl font-black text-slate-900 leading-[0.85] tracking-tighter uppercase italic">{report.carModel}</h1>
            <div className="flex flex-wrap items-center gap-y-4 gap-x-8 mt-6 text-slate-500 font-bold uppercase text-[11px] tracking-widest">
              <span>–ò–Ω—Å–ø–µ–∫—Ü–∏—è –∑–∞: <b className="text-slate-900">{report.clientName}</b></span>
              <span className="hidden md:block w-1.5 h-1.5 rounded-full bg-slate-300"></span>
              <span className="flex items-center gap-2"><Fingerprint size={14}/> VIN: <b className="text-slate-900 font-mono tracking-normal">{report.data.vin || "---"}</b></span>
            </div>
          </div>
          <div className={`rounded-[3rem] p-10 flex items-center gap-6 shadow-2xl border-2 ${isExcellent ? 'bg-emerald-50 border-emerald-200' : 'bg-amber-50 border-amber-200'}`}>
            <div className={`p-4 rounded-2xl ${isExcellent ? 'bg-emerald-500' : 'bg-amber-500'} text-white shadow-lg`}>
              {isExcellent ? <CheckCircle2 className="w-12 h-12" /> : <AlertTriangle className="w-12 h-12" />}
            </div>
            <div>
              <div className={`text-[10px] font-black uppercase tracking-[0.2em] mb-1 ${isExcellent ? 'text-emerald-700' : 'text-amber-700'}`}>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –°—Ç–∞—Ç—É—Å</div>
              <div className={`text-3xl font-black uppercase leading-none tracking-tighter ${isExcellent ? 'text-emerald-900' : 'text-amber-900'}`}>{isExcellent ? '–ü–†–û–í–ï–†–ï–ù' : '–°–™–° –ó–ê–ë–ï–õ–ï–ñ–ö–ò'}</div>
            </div>
          </div>
        </div>
      </div>

      <div className="max-w-7xl mx-auto px-6 -mt-10 space-y-10 relative z-20">
        <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
          <StatCard icon={<Calendar />} label="–ì–æ–¥–∏–Ω–∞" value={report.data.year} />
          <StatCard icon={<Gauge />} label="–ü—Ä–æ–±–µ–≥" value={`${report.data.mileage} –∫–º`} />
          <StatCard icon={<Fuel />} label="–ì–æ—Ä–∏–≤–æ" value={report.data.fuel} />
          <StatCard icon={<Settings2 />} label="–ö—É—Ç–∏—è" value={report.data.gearbox} />
          <StatCard icon={<Zap />} label="–ú–æ—â–Ω–æ—Å—Ç" value={`${report.data.hp} –∫.—Å.`} />
          <StatCard icon={<Activity />} label="–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞" value={report.data.ecuErrors ? "–ì—Ä–µ—à–∫–∏" : "–ß–∏—Å—Ç–∞"} color={report.data.ecuErrors ? "text-rose-600" : "text-emerald-600"} />
        </div>

        <div className="grid lg:grid-cols-3 gap-8">
          <div className="lg:col-span-2 space-y-10">
            <div className="bg-white rounded-[3.5rem] border border-slate-200 p-2 shadow-2xl overflow-hidden">
              <div className="p-8 font-black text-slate-900 border-b border-slate-50 flex items-center justify-between">
                <span className="flex items-center gap-3 uppercase text-sm tracking-tighter italic"><Eye className="w-6 h-6 text-blue-600"/> –í–∏–∑—É–∞–ª–µ–Ω –î–æ–∫–ª–∞–¥ ({formattedImages.length} —Å–Ω–∏–º–∫–∏)</span>
              </div>
              <GallerySection images={formattedImages} />
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
              <SectionCard title="–ï–∫—Å—Ç–µ—Ä–∏–æ—Ä –∏ –õ–ö–ü" icon={<CarFront size={20} className="text-blue-600"/>}>
                <ExpandableCheckItem text="–ò–∑–º–µ—Ä–≤–∞–Ω–µ –¥–µ–±–µ–ª–∏–Ω–∞ –Ω–∞ –ª–∞–∫–∞" isOpenDefault={true} details={Object.entries(report.data.paintData || {}).map(([label, value]) => ({ label, value: `${value} Œºm` }))} />
                <CheckItem text="–û–ø—Ç–∏–∫–∞ –∏ –∫—É–ø–µ" status="ok" info={report.data.exteriorStatus} desc={report.data.exteriorNotes} />
              </SectionCard>
              <SectionCard title="–ò–Ω—Ç–µ—Ä–∏–æ—Ä" icon={<Search size={20} className="text-emerald-600"/>}>
                <CheckItem text="–°–∞–ª–æ–Ω –∏ —Å–∏—Å—Ç–µ–º–∏" status="ok" info={report.data.interiorStatus} desc={report.data.interiorNotes} />
              </SectionCard>
            </div>
          </div>

          <div className="space-y-8">
            {/* –ü–†–û–ú–ï–ù–ï–ù–ê –°–ï–ö–¶–ò–Ø: –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê (–í–ï–ß–ï –ï –ë–Ø–õ–ê) */}
            <div className="bg-white rounded-[3.5rem] border border-slate-200 p-10 shadow-xl relative overflow-hidden group">
              <div className="absolute top-0 right-0 p-8 text-slate-100 rotate-12 group-hover:rotate-0 transition-transform duration-1000"><Cpu size={120} /></div>
              <div className="relative z-10">
                <h3 className="text-slate-500 font-black uppercase text-[10px] tracking-[0.3em] mb-8 flex items-center gap-2"><Cpu size={18} className="text-blue-600" /> –ö–æ–º–ø—é—Ç—ä—Ä–Ω–∞ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</h3>
                <div className={`text-sm font-black uppercase mb-4 px-4 py-2 rounded-xl inline-block ${report.data.ecuErrors ? 'bg-rose-50 text-rose-600' : 'bg-emerald-50 text-emerald-600'}`}>{report.data.ecuErrors ? '–û—Ç–∫—Ä–∏—Ç–∏ –≥—Ä–µ—à–∫–∏' : '–ù—è–º–∞ –∞–∫—Ç–∏–≤–Ω–∏ –≥—Ä–µ—à–∫–∏'}</div>
                <div className="bg-slate-50 border border-slate-100 p-6 rounded-2xl italic text-slate-700 text-sm leading-relaxed font-medium">{report.data.diagnostics || "–°–∏—Å—Ç–µ–º–∏—Ç–µ —Å–∞ —Å–∫–∞–Ω–∏—Ä–∞–Ω–∏ —É—Å–ø–µ—à–Ω–æ."}</div>
              </div>
            </div>

            <div className="bg-white rounded-[3.5rem] p-10 border border-slate-200 shadow-xl relative">
              <div className="absolute -top-4 -right-4 bg-blue-600 text-white p-4 rounded-3xl shadow-lg rotate-12"><ShieldCheck size={24} /></div>
              <h3 className="text-slate-400 font-black uppercase text-[10px] tracking-[0.3em] mb-8 flex items-center gap-2"><Info size={16} /> –ï–∫—Å–ø–µ—Ä—Ç–Ω–∞ –ø—Ä–∏—Å—ä–¥–∞</h3>
              <p className="text-slate-900 font-black text-2xl leading-tight italic tracking-tighter mb-10">"{report.data.finalVerdict}"</p>
              <div className="pt-10 border-t border-slate-100 flex items-center gap-5">
                <div className="w-16 h-16 rounded-[1.5rem] bg-slate-900 flex items-center justify-center font-black text-2xl text-white">–ú–§</div>
                <div>
                  <div className="font-black text-xl text-slate-900 tracking-tighter leading-none">–ú–∞—Ä—Ç–∏–Ω –§–∏–ª–µ–≤</div>
                  <div className="text-[10px] text-blue-600 font-black uppercase tracking-widest mt-1">FileVerified Lead Inspector</div>
                </div>
              </div>
            </div>

             {/* –ë—É—Ç–æ–Ω—ä—Ç –æ—Å—Ç–∞–≤–∞ —Ç—ä–º–µ–Ω –∑–∞ –∞–∫—Ü–µ–Ω—Ç, –∫–∞–∂–∏ –∞–∫–æ –∏—Å–∫–∞—à –∏ –Ω–µ–≥–æ —Å–≤–µ—Ç—ä–ª */}
            <a href="https://fileverified.eu" className="flex items-center justify-center w-full bg-slate-900 text-white py-8 rounded-[2.5rem] font-black text-xl transition-all hover:bg-blue-600 hover:scale-[1.02] shadow-2xl active:scale-95">
              –ù–û–í–ê –ò–ù–°–ü–ï–ö–¶–ò–Ø
            </a>
          </div>
        </div>
      </div>
    </main>
  )
}

function StatCard({ icon, label, value, color = "text-blue-600" }: any) {
  return (
    <div className="bg-white p-6 rounded-[2.5rem] border border-slate-200 shadow-sm flex items-center gap-4 group">
      <div className={`${color} bg-slate-50 p-3 rounded-2xl group-hover:scale-110 transition-transform`}>{cloneElement(icon, { size: 20 })}</div>
      <div>
        <div className="text-[9px] text-slate-400 uppercase font-black tracking-widest mb-1">{label}</div>
        <div className="text-slate-900 font-black text-base md:text-lg leading-none tracking-tighter uppercase italic">{value || "---"}</div>
      </div>
    </div>
  )
}

function SectionCard({ title, icon, children }: any) {
  return (
    <div className="bg-white rounded-[3.5rem] border border-slate-200 shadow-sm overflow-hidden flex flex-col">
      <div className="p-8 border-b border-slate-50 flex items-center gap-3 bg-slate-50/30">{icon}
        <span className="font-black uppercase text-[11px] tracking-[0.2em] text-slate-500">{title}</span>
      </div>
      <div className="p-8 space-y-6 flex-1">{children}</div>
    </div>
  )
}

function CheckItem({ text, info, desc }: any) {
  return (
    <div className="space-y-2">
      <div className="flex items-center justify-between">
        <div className="flex items-center gap-3"><CheckCircle2 className="w-5 h-5 text-blue-500" /><span className="text-slate-900 font-black text-sm tracking-tight">{text}</span></div>
        {info && <span className="text-[9px] font-black bg-emerald-50 text-emerald-600 px-2 py-0.5 rounded uppercase">{info}</span>}
      </div>
      {desc && <p className="ml-8 text-[11px] text-slate-400 font-medium italic leading-relaxed">"{desc}"</p>}
    </div>
  )
}

function ExpandableCheckItem({ text, details, isOpenDefault = false }: any) {
  const [isOpen, setIsOpen] = useState(isOpenDefault);
  return (
    <div className="bg-slate-50 rounded-3xl border border-slate-100 overflow-hidden">
      <div className="flex items-center justify-between p-5 cursor-pointer hover:bg-white transition-all" onClick={() => setIsOpen(!isOpen)}>
        <div className="flex items-center gap-3"><Activity className="w-5 h-5 text-blue-500" /><span className="text-slate-900 font-black text-sm tracking-tight">{text}</span></div>
        {isOpen ? <ChevronUp className="w-4 h-4 text-slate-400" /> : <ChevronDown className="w-4 h-4 text-slate-400" />}
      </div>
      {isOpen && (
        <div className="p-6 pt-0 animate-in fade-in slide-in-from-top-2 duration-300">
          <div className="grid grid-cols-2 gap-3">
            {details.map((item: any, idx: number) => (
              <div key={idx} className="bg-white px-3 py-2 rounded-xl border border-slate-200/50 flex justify-between items-center">
                <span className="text-[8px] text-slate-400 font-black uppercase tracking-widest">{item.label}</span>
                <span className="text-slate-900 font-black text-xs">{item.value}</span>
              </div>
            ))}
          </div>
        </div>
      )}
    </div>
  )
}
--- END OF FILE: src/app/report/[slug]/page.tsx ---

--- START OF FILE: src/app/page.tsx ---
import Link from "next/link"

export default function HomePage() {
  return (
    <section className="space-y-20">
      {/* HERO SECTION */}
      <div className="grid gap-12 lg:grid-cols-2 lg:items-center px-6 pt-10">
        <div className="space-y-6">
          <h1 className="text-4xl font-bold tracking-tight text-slate-900 md:text-5xl">
            –ù–µ–∑–∞–≤–∏—Å–∏–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª –ø—Ä–µ–¥–∏ –ø–æ–∫—É–ø–∫–∞.
            <span className="block text-emerald-700">
              –í–∏–∂—Ç–µ —Ä–µ–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ, —Å–ø–µ—Å—Ç–µ—Ç–µ —Å–∏ –∏–∑–Ω–µ–Ω–∞–¥–∏—Ç–µ.
            </span>
          </h1>

          <p className="text-lg text-slate-600 max-w-xl">
            –ö—É–ø–µ—Ç–µ —Å–ª–µ–¥–≤–∞—â–∏—è —Å–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª —Å —É–≤–µ—Ä–µ–Ω–æ—Å—Ç. –ù–∏–µ –ø—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –≤—Å–∏—á–∫–æ –≤–º–µ—Å—Ç–æ –≤–∞—Å ‚Äì –æ—Ç —Å–æ—Ñ—Ç—É–µ—Ä–Ω–∏ –≥—Ä–µ—à–∫–∏ –¥–æ –¥–µ–±–µ–ª–∏–Ω–∞—Ç–∞ –Ω–∞ –±–æ—è—Ç–∞. –î–∞–≤–∞–º–µ –≤–∏ –æ–±–µ–∫—Ç–∏–≤–Ω–∞—Ç–∞ –∏—Å—Ç–∏–Ω–∞ –∑–∞ –≤—Å—è–∫–∞ –∫–æ–ª–∞ –≤ –°–æ—Ñ–∏—è.
          </p>

          <div className="flex flex-wrap gap-4">
            <Link
              href="/book"
              className="inline-flex items-center rounded-xl bg-emerald-600 px-6 py-3 font-semibold text-white hover:bg-emerald-700 transition transform hover:scale-105 active:scale-95 shadow-sm"
            >
              –ó–∞–ø–∞–∑–∏ –æ–≥–ª–µ–¥
            </Link>

            <Link
              href="/services"
              className="inline-flex items-center rounded-xl border px-6 py-3 font-semibold text-slate-900 hover:bg-slate-50 transition transform hover:scale-105 active:scale-95 shadow-sm"
            >
              –í–∏–∂ —É—Å–ª—É–≥–∏—Ç–µ
            </Link>
          </div>
        </div>

        <div className="relative">
          <div className="aspect-[4/3] overflow-hidden rounded-3xl border shadow-sm">
            <img
              src="/images/hero-inspection.png"
              alt="–ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –æ–≥–ª–µ–¥ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª"
              className="h-full w-full object-cover"
            />
          </div>
        </div>
      </div>

      {/* TRUST CARDS */}
      <div className="grid gap-6 md:grid-cols-3 px-6">
        <TrustCard
          title="–ù–µ–∑–∞–≤–∏—Å–∏–º –æ–≥–ª–µ–¥"
          text="–ù–∏–µ –Ω–µ —Å–º–µ –∞–≤—Ç–æ–∫—ä—â–∞ –∏ –Ω–µ –ø—Ä–æ–¥–∞–≤–∞–º–µ –∫–æ–ª–∏. –ù–∞—à–∞—Ç–∞ —Ü–µ–ª –µ –¥–∞ –≤–∏ –¥–∞–¥–µ–º 100% –æ–±–µ–∫—Ç–∏–≤–Ω–∞ –∏ —á–µ—Å—Ç–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –∑–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –Ω–∞ –∏–∑–±—Ä–∞–Ω–∏—è –æ—Ç –≤–∞—Å –∞–≤—Ç–æ–º–æ–±–∏–ª."
        />
        <TrustCard
          title="–†–µ–∞–ª–Ω–∏ —Ñ–∞–∫—Ç–∏"
          text="–ò–∑–ø–æ–ª–∑–≤–∞–º–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∏ –¥–µ–±–µ–ª–æ–º–µ—Ä–∏ –∑–∞ –±–æ—è –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–Ω–∏ —É—Ä–µ–¥–∏. –û—Ç–∫—Ä–∏–≤–∞–º–µ –ø—Ä–µ–±–æ—è–¥–∏—Å–≤–∞–Ω–∏ –¥–µ—Ç–∞–π–ª–∏, –∞–∫—Ç–∏–≤–Ω–∏ –≥—Ä–µ—à–∫–∏ –∏ —Å–ª–µ–¥–∏ –æ—Ç —Ç–µ–∂–∫–∏ —Ä–µ–º–æ–Ω—Ç–∏."
        />
        <TrustCard
          title="–Ø—Å–Ω–∞ –ø—Ä–µ–ø–æ—Ä—ä–∫–∞"
          text="–í –∫—Ä–∞—è –Ω–∞ –æ–≥–ª–µ–¥–∞ –ø–æ–ª—É—á–∞–≤–∞—Ç–µ –¥–µ—Ç–∞–π–ª–µ–Ω –æ—Ç—á–µ—Ç. –©–µ —Ä–∞–∑–±–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ –∫–æ–ª–∞—Ç–∞ —Å–∏ –∑–∞—Å–ª—É–∂–∞–≤–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è—Ç–∞ –∏–ª–∏ –µ –ø–æ-–¥–æ–±—Ä–µ –¥–∞ –ø—Ä–æ–¥—ä–ª–∂–∏—Ç–µ —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ."
        />
      </div>

      {/* HOW IT WORKS */}
      <div className="space-y-10 px-6">
        <h2 className="text-3xl font-bold text-slate-900">
          –ö–∞–∫ –ø—Ä–æ—Ç–∏—á–∞ –æ–≥–ª–µ–¥—ä—Ç
        </h2>

        <div className="grid gap-6 md:grid-cols-3">
          <StepCard
            step="1"
            title="–ó–∞—è–≤–∫–∞"
            text="–ò–∑–±–∏—Ä–∞—à –ø–∞–∫–µ—Ç, –¥–∞—Ç–∞ –∏ —á–∞—Å –∏ –æ–ø–∏—Å–≤–∞—à –∞–≤—Ç–æ–º–æ–±–∏–ª–∞."
          />
          <StepCard
            step="2"
            title="–û–≥–ª–µ–¥ –Ω–∞ –º—è—Å—Ç–æ"
            text="–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–µ–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ ‚Äî –≤–∏–∑—É–∞–ª–Ω–æ, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –∏ —Å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞."
          />
          <StepCard
            step="3"
            title="–û–±–æ–±—â–µ–Ω–∏–µ"
            text="–ü–æ–ª—É—á–∞–≤–∞—à —è—Å–Ω–∞ –æ—Ü–µ–Ω–∫–∞ –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ä–∞–Ω–∞ –ø—Ä–µ–ø–æ—Ä—ä–∫–∞."
          />
        </div>
      </div>

      {/* CTA SECTION */}
      <div className="mx-6 rounded-3xl border bg-emerald-50 p-10 text-center space-y-6">
        <h2 className="text-3xl font-bold text-slate-900">
          –ì–æ—Ç–æ–≤ –ª–∏ —Å–∏ –¥–∞ –ø—Ä–æ–≤–µ—Ä–∏—à –∞–≤—Ç–æ–º–æ–±–∏–ª–∞?
        </h2>
        <p className="text-slate-700 max-w-2xl mx-auto">
          –ï–¥–∏–Ω –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –æ–≥–ª–µ–¥ –º–æ–∂–µ –¥–∞ —Ç–∏ —Å–ø–µ—Å—Ç–∏ —Ö–∏–ª—è–¥–∏ –ª–µ–≤–æ–≤–µ –∏ –º–Ω–æ–≥–æ
          –≥–ª–∞–≤–æ–±–æ–ª–∏—è.
        </p>
        <div>
          <Link
            href="/book"
            className="inline-flex items-center rounded-xl bg-emerald-600 px-8 py-4 font-semibold text-white hover:bg-emerald-700 transition transform hover:scale-105 active:scale-95 shadow-md"
          >
            –ó–∞–ø–∞–∑–∏ –æ–≥–ª–µ–¥
          </Link>
        </div>
      </div>
    </section>
  )
}

function TrustCard({ title, text }: { title: string; text: string }) {
  return (
    <div className="rounded-2xl border border-black bg-white p-6 shadow-sm hover:shadow-md transition-shadow">
      <div className="text-lg font-bold text-[#059669]">{title}</div>
      <p className="mt-2 text-slate-600">{text}</p>
    </div>
  )
}

function StepCard({ step, title, text }: { step: string; title: string; text: string }) {
  return (
    <div className="rounded-2xl border bg-white p-6 shadow-sm space-y-3 transition-all hover:border-emerald-200">
      <div className="flex items-center gap-3">
        <div className="flex h-9 w-9 items-center justify-center rounded-full bg-emerald-600 text-white font-bold">
          {step}
        </div>
        <div className="text-lg font-semibold text-slate-900">{title}</div>
      </div>
      <p className="text-slate-600">{text}</p>
    </div>
  )
}
--- END OF FILE: src/app/page.tsx ---

--- START OF FILE: src/app/globals.css ---
@import "tailwindcss";

/* –î–û–ë–ê–í–ò –¢–ï–ó–ò –î–í–ê –†–ï–î–ê –¢–£–ö */
@import "yet-another-react-lightbox/styles.css";
@import "yet-another-react-lightbox/plugins/thumbnails.css";

:root {
  --background: #ffffff;
  --foreground: #0f172a; /* slate-900 */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* –¢–≤–æ—è—Ç —Å—ä—â–µ—Å—Ç–≤—É–≤–∞—â –æ—É–≤—ä—Ä—Ä–∞–π–¥ */
html,
body {
  background: #f8fafc !important; /* slate-50 */
}
--- END OF FILE: src/app/globals.css ---

--- START OF FILE: src/app/tpms/page.tsx ---
import type { Metadata } from "next"

export const metadata: Metadata = {
  title: "TPMS –æ–±—É—á–µ–Ω–∏–µ –∏ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ | FileVerified",
  description:
    "–û–±—É—á–µ–Ω–∏–µ, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ TPMS –¥–∞—Ç—á–∏—Ü–∏ –∑–∞ –≥—É–º–∏. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª—è–≥–∞–Ω–µ, —Å–µ–Ω–∑–æ—Ä–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –∞–≤—Ç–æ–º–æ–±–∏–ª–∞.",
}

export default function TPMSPage() {
  return (
    <section className="space-y-12">
      {/* HERO */}
      <div className="space-y-4">
        <h1 className="text-3xl md:text-4xl font-bold text-slate-900">
          TPMS ‚Äì –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –¥–∞—Ç—á–∏—Ü–∏ –∑–∞ –≥—É–º–∏
        </h1>
        <p className="max-w-3xl text-lg text-slate-600">
          –ü—Ä–æ–≤–µ—Ä–∫–∞, –æ–±—É—á–µ–Ω–∏–µ –∏ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ TPMS (Tire Pressure Monitoring
          System) –¥–∞—Ç—á–∏—Ü–∏. –£—Å–ª—É–≥–∞—Ç–∞ –µ –ø–æ–¥—Ö–æ–¥—è—â–∞ –ø—Ä–∏ —Å–º—è–Ω–∞ –Ω–∞ –≥—É–º–∏, –¥–∂–∞–Ω—Ç–∏,
          –ø–æ–≤—Ä–µ–¥–µ–Ω –¥–∞—Ç—á–∏–∫ –∏–ª–∏ —Å–≤–µ—Ç–Ω–∞–ª–∞ TPMS –∏–Ω–¥–∏–∫–∞—Ü–∏—è.
        </p>
      </div>

      {/* WHAT IS TPMS */}
      <div className="grid gap-8 md:grid-cols-2">
        <div className="space-y-4">
          <h2 className="text-2xl font-semibold text-slate-900">
            –ö–∞–∫–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ TPMS —Å–∏—Å—Ç–µ–º–∞—Ç–∞?
          </h2>
          <p className="text-slate-600">
            TPMS –µ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ —Å–ª–µ–¥–µ–Ω–µ –Ω–∞ –Ω–∞–ª—è–≥–∞–Ω–µ—Ç–æ –≤ –≥—É–º–∏—Ç–µ, –∫–æ—è—Ç–æ –∏–∑–ø–æ–ª–∑–≤–∞
            —Å–µ–Ω–∑–æ—Ä–∏ (–¥–∞—Ç—á–∏—Ü–∏), –º–æ–Ω—Ç–∏—Ä–∞–Ω–∏ –≤—ä–≤ –≤—Å—è–∫–∞ –≥—É–º–∞. –¢–µ –∏–∑–º–µ—Ä–≤–∞—Ç –Ω–∞–ª—è–≥–∞–Ω–µ—Ç–æ –∏
            —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞—Ç–∞ –∏ –ø–æ–¥–∞–≤–∞—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫—ä–º –∞–≤—Ç–æ–º–æ–±–∏–ª–∞.
          </p>
          <p className="text-slate-600">
            –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º —Å—ä—Å —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –Ω–∞ —Ç–∞–±–ª–æ—Ç–æ —Å–µ –ø–æ—è–≤—è–≤–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç–µ–ª–Ω–∞
            –∏–Ω–¥–∏–∫–∞—Ü–∏—è, –∫–æ—è—Ç–æ –Ω–µ –±–∏–≤–∞ –¥–∞ —Å–µ –∏–≥–Ω–æ—Ä–∏—Ä–∞.
          </p>
        </div>

        <div className="rounded-2xl border bg-emerald-50 p-6">
          <ul className="space-y-3 text-slate-700">
            <li>‚Ä¢ –ü–æ–≤–∏—à–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç –ø—Ä–∏ —à–æ—Ñ–∏—Ä–∞–Ω–µ</li>
            <li>‚Ä¢ –ü–æ-—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ –∏–∑–Ω–æ—Å–≤–∞–Ω–µ –Ω–∞ –≥—É–º–∏—Ç–µ</li>
            <li>‚Ä¢ –ü–æ-–Ω–∏—Å—ä–∫ —Ä–∞–∑—Ö–æ–¥ –Ω–∞ –≥–æ—Ä–∏–≤–æ</li>
            <li>‚Ä¢ –†–∞–Ω–Ω–æ –æ—Ç–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏</li>
          </ul>
        </div>
      </div>

      {/* WHEN NEEDED */}
      <div className="space-y-4">
        <h2 className="text-2xl font-semibold text-slate-900">
          –ö–æ–≥–∞ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±—É—á–µ–Ω–∏–µ –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ TPMS?
        </h2>
        <ul className="grid gap-3 md:grid-cols-2 text-slate-600">
          <li>‚Ä¢ –°–ª–µ–¥ —Å–º—è–Ω–∞ –Ω–∞ –≥—É–º–∏ –∏–ª–∏ –¥–∂–∞–Ω—Ç–∏</li>
          <li>‚Ä¢ –ü—Ä–∏ –ø–æ–¥–º—è–Ω–∞ –Ω–∞ TPMS –¥–∞—Ç—á–∏–∫</li>
          <li>‚Ä¢ –ü—Ä–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–≤–µ—Ç–Ω–∞–ª–∞ TPMS –ª–∞–º–ø–∞</li>
          <li>‚Ä¢ –ü—Ä–∏ –≥—Ä–µ—à–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞</li>
          <li>‚Ä¢ –ü—Ä–∏ –Ω–µ—Å—ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞ –ø–æ–∫–∞–∑–∞–Ω–∏—è—Ç–∞</li>
        </ul>
      </div>

      {/* WHAT WE DO */}
      <div className="space-y-4">
        <h2 className="text-2xl font-semibold text-slate-900">
          –ö–∞–∫–≤–æ –≤–∫–ª—é—á–≤–∞ —É—Å–ª—É–≥–∞—Ç–∞
        </h2>
        <div className="grid gap-6 md:grid-cols-3">
          <div className="rounded-2xl border bg-white p-6 shadow-sm">
            <div className="font-semibold text-slate-900">
              –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –Ω–∞ TPMS
            </div>
            <p className="mt-2 text-sm text-slate-600">
              –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—ä—Å—Ç–æ—è–Ω–∏–µ—Ç–æ –Ω–∞ –¥–∞—Ç—á–∏—Ü–∏—Ç–µ, –±–∞—Ç–µ—Ä–∏–∏, –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è –∏ –≥—Ä–µ—à–∫–∏
              –≤ —Å–∏—Å—Ç–µ–º–∞—Ç–∞.
            </p>
          </div>

          <div className="rounded-2xl border bg-white p-6 shadow-sm">
            <div className="font-semibold text-slate-900">
              –û–±—É—á–µ–Ω–∏–µ –Ω–∞ –¥–∞—Ç—á–∏—Ü–∏
            </div>
            <p className="mt-2 text-sm text-slate-600">
              –°–≤—ä—Ä–∑–≤–∞–Ω–µ –Ω–∞ –¥–∞—Ç—á–∏—Ü–∏—Ç–µ —Å –∞–≤—Ç–æ–º–æ–±–∏–ª–∞ —Å–ª–µ–¥ —Å–º—è–Ω–∞ –∏–ª–∏ —Ä–æ—Ç–∞—Ü–∏—è –Ω–∞
              –∫–æ–ª–µ–ª–∞—Ç–∞.
            </p>
          </div>

          <div className="rounded-2xl border bg-white p-6 shadow-sm">
            <div className="font-semibold text-slate-900">
              –ü—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ / –∫–ª–æ–Ω–∏—Ä–∞–Ω–µ
            </div>
            <p className="mt-2 text-sm text-slate-600">
              –ü—Ä–æ–≥—Ä–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ –Ω–æ–≤–∏ TPMS –¥–∞—Ç—á–∏—Ü–∏ –∏–ª–∏ –∫–ª–æ–Ω–∏—Ä–∞–Ω–µ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–Ω–∏—Ç–µ.
            </p>
          </div>
        </div>
      </div>

      {/* NOTE */}
      <div className="rounded-2xl border border-amber-200 bg-amber-50 p-6">
        <p className="text-sm text-amber-800">
          ‚ÑπÔ∏è –ù–µ –≤—Å–∏—á–∫–∏ TPMS –ø—Ä–æ–±–ª–µ–º–∏ —Å–∞ —Å–≤—ä—Ä–∑–∞–Ω–∏ —Å –Ω–∞–ª—è–≥–∞–Ω–µ—Ç–æ. –ß–µ—Å—Ç–æ –ø—Ä–∏—á–∏–Ω–∞—Ç–∞ –µ
          –∏–∑—Ç–æ—â–µ–Ω–∞ –±–∞—Ç–µ—Ä–∏—è –Ω–∞ –¥–∞—Ç—á–∏–∫, –≥—Ä–µ—à–∫–∞ –≤ –æ–±—É—á–µ–Ω–∏–µ—Ç–æ –∏–ª–∏ –Ω–µ—Å—ä–≤–º–µ—Å—Ç–∏–º —Å–µ–Ω–∑–æ—Ä.
        </p>
      </div>
    </section>
  )
}
--- END OF FILE: src/app/tpms/page.tsx ---

--- START OF FILE: src/app/services/page.tsx ---
const PACKAGES = [
  {
    name: "Standard",
    price: "100 Euro",
    duration: "60‚Äì75 –º–∏–Ω",
    description: "–ë—ä—Ä–∑–∞ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –±–∞–∑–æ–≤–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç.",
    features: [
      "–ö–æ–º–ø—é—Ç—ä—Ä–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–æ—Å–Ω–æ–≤–Ω–∏ –º–æ–¥—É–ª–∏)",
      "–í–∏–∑—É–∞–ª–µ–Ω –æ–≥–ª–µ–¥ (–¥–≤–∏–≥–∞—Ç–µ–ª/–æ–∫–∞—á–≤–∞–Ω–µ/—Ç–µ—á–æ–≤–µ)",
      "–ö—Ä–∞—Ç–∫–æ –æ–±–æ–±—â–µ–Ω–∏–µ: –ø–ª—é—Å–æ–≤–µ/–º–∏–Ω—É—Å–∏",
    ],
    cta: "–ó–∞–ø–∞–∑–∏ Standard",
    highlight: false,
  },
  {
    name: "Premium",
    price: "250 Euro",
    duration: "90‚Äì120 –º–∏–Ω",
    description: "–ù–∞–π-–∏–∑–±–∏—Ä–∞–Ω–∏—è—Ç –ø–∞–∫–µ—Ç ‚Äî –Ω–∞–π-–¥–æ–±—ä—Ä –±–∞–ª–∞–Ω—Å —Ü–µ–Ω–∞/–ø–æ–∫—Ä–∏—Ç–∏–µ.",
    features: [
      "–í—Å–∏—á–∫–æ –æ—Ç Standard",
      "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–æ—è (–¥–µ–±–µ–ª–∏–Ω–∞) –∏ –ø–∞–Ω–µ–ª–∏",
      "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≥—É–º–∏/–¥–∂–∞–Ω—Ç–∏/—Å–ø–∏—Ä–∞—á–∫–∏ –∏ –≥—Ä–∞–π—Ñ–µ—Ä",
      "–û—Ü–µ–Ω–∫–∞ –Ω–∞ —Ä–µ–∞–ª–Ω–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –∏ —Ä–∏—Å–∫–æ–≤–µ",
    ],
    cta: "–ó–∞–ø–∞–∑–∏ Premium",
    highlight: true,
  },
  {
    name: "Premium EV",
    price: "300 Euro",
    duration: "120‚Äì150 –º–∏–Ω",
    description: "–í—Å–∏—á–∫–æ –æ—Ç Premium + –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –Ω–∞ –±–∞—Ç–µ—Ä–∏—è—Ç–∞",
    features: [
      "–í—Å–∏—á–∫–æ –æ—Ç Premium",
      "–ü–æ-–¥–µ—Ç–∞–π–ª–µ–Ω –¥–æ–∫–ª–∞–¥ —Å –ø—Ä–µ–ø–æ—Ä—ä–∫–∏",
      "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è (–æ–±–∞–∂–¥–∞–Ω–µ —Å–ª–µ–¥ –æ–≥–ª–µ–¥)",
      "–°–Ω–∏–º–∫–∏/–∑–∞–±–µ–ª–µ–∂–∫–∏ –ø–æ –∫–ª—é—á–æ–≤–∏ —Ç–æ—á–∫–∏",
    ],
    cta: "–ó–∞–ø–∞–∑–∏ Premium EV",
    highlight: false,
  },
]

export default function ServicesPage() {
  return (
    <section className="space-y-10">
      <div className="space-y-3">
        <h1 className="text-3xl md:text-4xl font-bold text-slate-900">–£—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω–∏</h1>
        <p className="text-slate-600 text-lg">
          –ò–∑–±–µ—Ä–∏ –ø–∞–∫–µ—Ç —Å–ø–æ—Ä–µ–¥ –Ω—É–∂–¥–∏—Ç–µ —Å–∏. –ê–∫–æ —Å–µ –∫–æ–ª–µ–±–∞–µ—à ‚Äî –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–º–µ <span className="font-semibold">Premium</span>.
        </p>
      </div>

      <div className="grid gap-6 lg:grid-cols-3">
        {PACKAGES.map((p) => (
          <div
            key={p.name}
            className={[
              "rounded-2xl border bg-white p-6 shadow-sm",
              p.highlight ? "border-emerald-200 ring-1 ring-emerald-100" : "",
            ].join(" ")}
          >
            {p.highlight && (
              <div className="mb-4 inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700">
                –ü—Ä–µ–ø–æ—Ä—ä—á–∞–Ω
              </div>
            )}

            <div className="flex items-baseline justify-between gap-4">
              <h2 className="text-2xl font-bold text-slate-900">{p.name}</h2>
              <div className="text-right">
                <div className="text-2xl font-bold text-slate-900">{p.price}</div>
                <div className="text-xs text-slate-500">{p.duration}</div>
              </div>
            </div>

            <p className="mt-3 text-slate-600">{p.description}</p>

            <ul className="mt-5 space-y-2 text-sm text-slate-700">
              {p.features.map((f) => (
                <li key={f} className="flex gap-2">
                  <span className="mt-0.5 inline-flex h-5 w-5 items-center justify-center rounded-md bg-emerald-50 text-emerald-700">
                    ‚úì
                  </span>
                  <span>{f}</span>
                </li>
              ))}
            </ul>

            <a
              href="/book"
              className={[
                "mt-6 inline-flex w-full items-center justify-center rounded-xl px-5 py-3 font-semibold transition",
                p.highlight
                  ? "bg-emerald-600 text-white hover:bg-emerald-700"
                  : "border bg-white text-slate-900 hover:bg-slate-50",
              ].join(" ")}
            >
              {p.cta}
            </a>

            <div className="mt-3 text-xs text-slate-500">
              * –¶–µ–Ω–∏—Ç–µ —Å–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤—ä—á–Ω–∏. –§–∏–Ω–∞–ª–Ω–∞—Ç–∞ —Ü–µ–Ω–∞ –º–æ–∂–µ –¥–∞ –∑–∞–≤–∏—Å–∏ –æ—Ç –ª–æ–∫–∞—Ü–∏—è/—Å–ª–æ–∂–Ω–æ—Å—Ç.
            </div>
          </div>
        ))}
      </div>

      <div className="rounded-2xl border bg-emerald-50 p-8">
        <h3 className="text-xl font-bold text-slate-900">–ö–∞–∫ –ø—Ä–æ—Ç–∏—á–∞ –æ–≥–ª–µ–¥—ä—Ç?</h3>
        <div className="mt-4 grid gap-4 md:grid-cols-3">
          <div className="rounded-xl bg-white p-5">
            <div className="text-sm font-semibold text-emerald-700">1) –ó–∞—è–≤–∫–∞</div>
            <div className="mt-1 text-slate-700 text-sm">
              –ò–∑–±–∏—Ä–∞—à –ø–∞–∫–µ—Ç –∏ –∏–∑–ø—Ä–∞—â–∞—à –¥–∞–Ω–Ω–∏—Ç–µ –∑–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∞.
            </div>
          </div>
          <div className="rounded-xl bg-white p-5">
            <div className="text-sm font-semibold text-emerald-700">2) –û–≥–ª–µ–¥</div>
            <div className="mt-1 text-slate-700 text-sm">
              –ü—Ä–∞–≤–∏–º –ø—Ä–æ–≤–µ—Ä–∫–∞—Ç–∞ –Ω–∞ –º—è—Å—Ç–æ ‚Äî –ø—Ä–∏ –ø—Ä–æ–¥–∞–≤–∞—á–∞ –∏–ª–∏ —Å–µ—Ä–≤–∏–∑.
            </div>
          </div>
          <div className="rounded-xl bg-white p-5">
            <div className="text-sm font-semibold text-emerald-700">3) –û–±–æ–±—â–µ–Ω–∏–µ</div>
            <div className="mt-1 text-slate-700 text-sm">
              –ü–æ–ª—É—á–∞–≤–∞—à —è—Å–Ω–æ –º–Ω–µ–Ω–∏–µ –∏ –ø—Ä–µ–ø–æ—Ä—ä–∫–∞ ‚Äú—Å—Ç—Ä—É–≤–∞ –ª–∏ —Å–∏‚Äù.
            </div>
          </div>
        </div>
      </div>
    </section>
  )
}
--- END OF FILE: src/app/services/page.tsx ---

--- START OF FILE: src/components/MobileNav.tsx ---
"use client"

import { useState, useEffect } from "react"
import { createPortal } from "react-dom"
import Link from "next/link"
import { usePathname } from "next/navigation"
import { Menu, X } from "lucide-react"

export default function MobileNav() {
  const [isOpen, setIsOpen] = useState(false)
  const [mounted, setMounted] = useState(false)
  const pathname = usePathname()

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–ª–∏ —Å–º–µ –≤ –±—Ä–∞—É–∑—ä—Ä–∞ (–∫–ª–∏–µ–Ω—Ç—Å–∫–∞ —á–∞—Å—Ç)
  useEffect(() => {
    setMounted(true)
  }, [])

  useEffect(() => {
    if (isOpen) {
      document.body.style.overflow = 'hidden'
    } else {
      document.body.style.overflow = 'unset'
    }
  }, [isOpen])

  useEffect(() => {
    setIsOpen(false)
  }, [pathname])

  const menuContent = (
    <div
      style={{
        position: 'fixed',
        inset: 0,
        zIndex: 99999,
        display: isOpen ? 'block' : 'none',
      }}
    >
      {/* –ü–ª—ä—Ç–µ–Ω —Ñ–æ–Ω –∑–∞ –∑–∞—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ */}
      <div 
        className="absolute inset-0 bg-white"
        style={{ opacity: 0.95, backdropFilter: 'blur(10px)', WebkitBackdropFilter: 'blur(10px)' }}
      />
      
      <div className="relative flex flex-col h-full w-full shadow-2xl">
        {/* Header */}
        <div className="flex items-center justify-between px-6 h-20 border-b border-slate-100">
          <span className="font-bold text-lg text-slate-900">–ú–ï–ù–Æ</span>
          <button onClick={() => setIsOpen(false)} className="p-2 bg-slate-100 rounded-full">
            <X className="h-6 w-6 text-slate-900" />
          </button>
        </div>

        {/* Links */}
        <nav className="flex flex-col p-8 gap-1 overflow-y-auto">
          {[
            { name: "–ù–ê–ß–ê–õ–û", href: "/" },
            { name: "–ü–†–û–í–ï–†–ö–ê", href: "/services" },
            { name: "–î–ò–ê–ì–ù–û–°–¢–ò–ö–ê", href: "/diagnostics" },
            { name: "TPMS", href: "/tpms" },
            { name: "–ö–û–ù–¢–ê–ö–¢–ò", href: "/contact" },
            { name: "FAQ", href: "/faq" },
          ].map((item) => (
            <Link
              key={item.href}
              href={item.href}
              className={`py-4 text-xl font-bold border-b border-slate-50 ${
                pathname === item.href ? "text-emerald-600" : "text-slate-900"
              }`}
            >
              {item.name}
            </Link>
          ))}
          
          <div className="mt-8 flex flex-col gap-4">
            <Link 
              href="/book" 
              className="w-full text-center rounded-xl bg-emerald-600 py-5 text-lg font-black text-white shadow-lg"
            >
              –ó–ê–ü–ê–ó–ò –û–ì–õ–ï–î
            </Link>

            <div className="grid grid-cols-2 gap-3">
                <Link 
                    href="/portal" 
                    className="w-full text-center rounded-xl bg-slate-100 py-4 text-xs font-black text-slate-900 uppercase tracking-widest"
                >
                    –ü–û–†–¢–ê–õ
                </Link>
                <Link 
                    href="/admin" 
                    className="w-full text-center rounded-xl bg-slate-900 py-4 text-xs font-black text-white uppercase tracking-widest"
                >
                    –ê–î–ú–ò–ù
                </Link>
            </div>
          </div>
        </nav>
      </div>
    </div>
  )

  return (
    <div className="md:hidden">
      <button onClick={() => setIsOpen(true)} className="p-2 text-slate-900">
        <Menu className="h-6 w-6" />
      </button>

      {/* –†–µ–Ω–¥–∏—Ä–∞–º–µ –º–µ–Ω—é—Ç–æ –¥–∏—Ä–µ–∫—Ç–Ω–æ –≤ body, –∑–∞ –¥–∞ –Ω–µ —Å–µ –≤–ª–∏—è–µ –æ—Ç —Ö–µ–¥—ä—Ä–∞ */}
      {mounted && createPortal(menuContent, document.body)}
    </div>
  )
}
--- END OF FILE: src/components/MobileNav.tsx ---

--- START OF FILE: src/components/GallerySection.tsx ---
"use client";

import React, { useState, useEffect } from 'react';
import Image from 'next/image';
import Lightbox from "yet-another-react-lightbox";
import Zoom from "yet-another-react-lightbox/plugins/zoom";
import Thumbnails from "yet-another-react-lightbox/plugins/thumbnails";
import "yet-another-react-lightbox/styles.css";
import "yet-another-react-lightbox/plugins/thumbnails.css";
import { Maximize2, ImageIcon } from 'lucide-react';

interface GalleryProps {
  images?: string[];
}

export default function GallerySection({ images = [] }: GalleryProps) {
  const [index, setIndex] = useState(-1);
  const [mounted, setMounted] = useState(false);

  useEffect(() => {
    setMounted(true);
  }, []);

  if (!mounted || images.length === 0) return null;

  const visibleImages = images.slice(0, 5);
  const remainingCount = images.length - 5;

  return (
    <div className="w-full bg-white p-4">
      <div className="grid grid-cols-2 md:grid-cols-5 gap-3">
        {visibleImages.map((src, i) => {
          const isLastVisible = i === 4 && remainingCount > 0;

          return (
            <div 
              key={i}
              className="relative aspect-[4/3] cursor-pointer group overflow-hidden rounded-xl bg-gray-100 border border-slate-200 shadow-sm"
              onClick={() => setIndex(i)}
            >
              <Image
                src={src}
                alt={`–ò–Ω—Å–ø–µ–∫—Ü–∏—è –¥–µ—Ç–∞–π–ª ${i + 1}`}
                fill
                unoptimized // –î–û–ë–ê–í–ï–ù–û: –∑–∞ –¥–∞ —Ä–∞–±–æ—Ç—è—Ç —Å–Ω–∏–º–∫–∏—Ç–µ –ø—Ä–µ–∑ API-—Ç–æ
                className={`object-cover transition duration-300 group-hover:scale-110 ${isLastVisible ? 'blur-[2px] brightness-50' : ''}`}
                sizes="(max-w-768px) 50vw, 20vw"
              />
              
              {!isLastVisible && (
                <div className="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/30">
                  <Maximize2 className="text-white w-6 h-6" />
                </div>
              )}

              {isLastVisible && (
                <div className="absolute inset-0 flex flex-col items-center justify-center text-white bg-black/40 group-hover:bg-black/20 transition-colors">
                  <span className="text-2xl font-black">+{remainingCount}</span>
                  <span className="text-[10px] uppercase font-bold tracking-widest">—Å–Ω–∏–º–∫–∏</span>
                </div>
              )}
            </div>
          );
        })}
      </div>

      {remainingCount > 0 && (
        <div className="mt-4 flex justify-center">
          <button 
            onClick={() => setIndex(0)}
            className="flex items-center gap-2 px-6 py-2 border-2 border-slate-200 rounded-xl text-slate-600 font-bold hover:bg-slate-50 hover:border-slate-300 transition-all text-sm uppercase tracking-tighter"
          >
            <ImageIcon className="w-4 h-4" />
            –í–ò–ñ –í–°–ò–ß–ö–ò {images.length} –°–ù–ò–ú–ö–ò
          </button>
        </div>
      )}

      <Lightbox
        index={index}
        open={index >= 0}
        close={() => setIndex(-1)}
        slides={images.map(src => ({ src }))}
        plugins={[Zoom, Thumbnails]}
      />
    </div>
  );
}
--- END OF FILE: src/components/GallerySection.tsx ---

--- START OF FILE: src/components/ContactForm.tsx ---
"use client"

import { useState } from "react"
import { Send, CheckCircle2, Loader2, AlertCircle } from "lucide-react"

export default function ContactForm() {
  const [status, setStatus] = useState<"idle" | "loading" | "success" | "error">("idle")

  async function handleSubmit(e: React.FormEvent<HTMLFormElement>) {
    e.preventDefault()
    setStatus("loading")

    const formData = new FormData(e.currentTarget)
    const data = {
      name: formData.get("name"),
      phone: formData.get("phone"),
      message: formData.get("message"),
    }

    try {
      const response = await fetch('/api/contact', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data),
      })

      if (response.ok) {
        setStatus("success")
      } else {
        setStatus("error")
      }
    } catch (error) {
      console.error("Form submission error:", error)
      setStatus("error")
    }
  }

  if (status === "success") {
    return (
      <div className="bg-emerald-50 border border-emerald-100 p-8 rounded-2xl text-center animate-in fade-in zoom-in duration-300">
        <div className="flex justify-center mb-4 text-emerald-600">
          <CheckCircle2 className="w-12 h-12" />
        </div>
        <h3 className="text-xl font-bold text-slate-900 mb-2">–ó–∞–ø–∏—Ç–≤–∞–Ω–µ—Ç–æ –µ –∏–∑–ø—Ä–∞—Ç–µ–Ω–æ!</h3>
        <p className="text-slate-600">–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –í–∏, —â–µ —Å–µ —Å–≤—ä—Ä–∂–µ–º —Å –í–∞—Å —Å—ä–≤—Å–µ–º —Å–∫–æ—Ä–æ.</p>
        <button 
          onClick={() => setStatus("idle")}
          className="mt-6 text-emerald-600 font-semibold hover:text-emerald-700 transition-colors"
        >
          –ò–∑–ø—Ä–∞—Ç–∏ –Ω–æ–≤–æ —Å—ä–æ–±—â–µ–Ω–∏–µ
        </button>
      </div>
    )
  }

  return (
    <div className="bg-slate-50 border border-slate-100 p-8 rounded-2xl">
      <h3 className="text-xl font-bold text-slate-900 mb-6">–ë—ä—Ä–∑–æ –∑–∞–ø–∏—Ç–≤–∞–Ω–µ</h3>
      
      <form onSubmit={handleSubmit} className="space-y-4">
        <div className="grid gap-4 md:grid-cols-2">
          <div className="space-y-2">
            <label className="text-xs font-bold uppercase tracking-wider text-slate-500">–í–∞—à–µ—Ç–æ –ò–º–µ</label>
            <input 
              name="name"
              required 
              type="text" 
              placeholder="–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è"
              className="w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all bg-white"
            />
          </div>
          <div className="space-y-2">
            <label className="text-xs font-bold uppercase tracking-wider text-slate-500">–¢–µ–ª–µ—Ñ–æ–Ω</label>
            <input 
              name="phone"
              required 
              type="tel" 
              placeholder="0888 000 000"
              className="w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all bg-white"
            />
          </div>
        </div>
        
        <div className="space-y-2">
          <label className="text-xs font-bold uppercase tracking-wider text-slate-500">–ö–∞–∫–≤–æ –í–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞?</label>
          <textarea 
            name="message"
            required
            rows={4}
            placeholder="–û–ø–∏—à–µ—Ç–µ –Ω–∞–∫—Ä–∞—Ç–∫–æ –∫–∞–∫ –º–æ–∂–µ–º –¥–∞ –í–∏ –ø–æ–º–æ–≥–Ω–µ–º..."
            className="w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all resize-none bg-white"
          ></textarea>
        </div>

        <button 
          disabled={status === "loading"}
          type="submit"
          className="w-full flex items-center justify-center gap-2 bg-emerald-600 text-white font-bold py-4 rounded-xl hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 active:scale-[0.98] disabled:opacity-70"
        >
          {status === "loading" ? (
            <Loader2 className="w-5 h-5 animate-spin" />
          ) : (
            <Send className="w-4 h-4" />
          )}
          {status === "loading" ? "–ò–∑–ø—Ä–∞—â–∞–Ω–µ..." : "–ò–∑–ø—Ä–∞—Ç–∏ –∑–∞–ø–∏—Ç–≤–∞–Ω–µ"}
        </button>

        {status === "error" && (
          <div className="flex items-center gap-2 text-red-600 text-sm justify-center mt-2">
            <AlertCircle className="w-4 h-4" />
            –ì—Ä–µ—à–∫–∞ –ø—Ä–∏ –∏–∑–ø—Ä–∞—â–∞–Ω–µ—Ç–æ. –ú–æ–ª—è, –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å–∏.
          </div>
        )}
      </form>
    </div>
  )
}
--- END OF FILE: src/components/ContactForm.tsx ---

--- START OF FILE: src/lib/prisma.ts ---
import { PrismaClient } from '@prisma/client';

const globalForPrisma = global as unknown as { prisma: PrismaClient };

export const prisma = globalForPrisma.prisma || new PrismaClient();

if (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;
--- END OF FILE: src/lib/prisma.ts ---

--- START OF FILE: src/lib/bookings.ts ---
import { prisma } from "./prisma";

export type BookingStatus = "new" | "confirmed" | "done" | "canceled";

export async function listBookings() {
  // –í–∑–∏–º–∞–º–µ –≤—Å–∏—á–∫–∏ –æ—Ç –±–∞–∑–∞—Ç–∞, –ø–æ–¥—Ä–µ–¥–µ–Ω–∏ –ø–æ –¥–∞—Ç–∞ (–Ω–∞–π-–Ω–æ–≤–∏—Ç–µ –æ—Ç–≥–æ—Ä–µ)
  return await prisma.booking.findMany({
    orderBy: {
      createdAt: 'desc',
    },
  });
}

export async function addBooking(data: any) {
  return await prisma.booking.create({
    data: {
      pkgName: data.packageName || data.pkgName,
      date: data.date,
      time: data.time,
      fullName: data.fullName,
      phone: data.phone,
      email: data.email,
      makeModel: data.makeModel,
      year: data.year,
      vin: data.vin,
      notes: data.notes,
      status: "new",
    },
  });
}

export async function updateBookingStatus(id: string, status: BookingStatus) {
  return await prisma.booking.update({
    where: { id },
    data: { status },
  });
}
--- END OF FILE: src/lib/bookings.ts ---
